(function(e,i){var t=function(e,i,t,r){this.method=e,this.url=i,this.action=t,this.wheres={},r&&(this.wheres=r),this.where=function(e,i){return null!==e&&"object"==typeof e?this.wheres=Object.assign(this.where,e):i&&(this.wheres[e]=i),this}},r=function(){var e=[],i=/^\/|\/$/g;this.setRoutes=function(i){e=i},this.register=function(i,r,s){var n=new t(i.toLowerCase(),r,s);return e.push(n),n},this.get=function(e,i){return this.register("get",e,i)},this.resolve=function(t){t=t.replace(i,"");var r=t.split("/");for(var s in e){for(var n={},h=!0,f=e[s],a=f.url.replace(i,""),l=a.split("/"),o=0,u=!1;o<l.length;o++){var c=l[o],g=-1!==c.indexOf("*");if(g){var v=c.slice(0,-1);if(!v||0===r[o].indexOf(v)){u=!0;break}}var w=-1!==c.indexOf("{");if(c!==r[o]&&!w){h=!1;break}if(w){var p=c.split(/[{}]+/),x=p[1];if("?"===x[x.length-1])x=x.slice(0,-1);else if(o>=r.length){h=!1;break}if(-1!==x.indexOf("<")){var b=/<([^>]+)>/.exec(x);x=x.replace(/<([^>]+)>/g,""),f.wheres[x]=b[1]}if(f.wheres[x]){var d=new RegExp(f.wheres[x],"g");if(!d.test(r[o])){h=!1;break}d.lastIndex=0,d.test("/")&&(u=!0)}var k=o<r.length?r[o]:null;if(p[0]){if(0!==k.indexOf(p[0])){h=!1;break}k=k.slice(p[0].length)}if(n[x]=k,u){n[x]=r.slice(o).join("/");break}}}if(o<r.length&&!u&&(h=!1),h)return{item:f,params:n}}return null}};e.RouteItem=t,e.Router=r})(viewiExports,viewiBring);