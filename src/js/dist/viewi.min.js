(()=>{var Ke=0,ye=0,z={};function L(e){return e.__aid||(e.__aid=++Ke,z[e.__aid]={current:-1,target:e,invalid:[],added:0}),z[e.__aid]}function Y(){return++ye}function $(e,n=!1,t,o){let i=document.createTextNode("");return i._anchor=o??"#"+ ++ye,t&&t.current++,n||t&&e.childNodes.length>t.current?(t?e:e.parentElement).insertBefore(i,t?e.childNodes[t.current]:e):e.appendChild(i),i}var Fe={list:{},booleanAttributes:{}},j=Fe;var J=class{count=0;increment(){this.count++}decrement(){this.count--}};var Z=class{items=[];addNewItem(n){this.items.push(n)}};var C=class{_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$;_name="BaseComponent";emitEvent(n,t){this.$_callbacks&&n in this.$_callbacks&&this.$_callbacks[n](t)}};var q=class extends C{_name="MenuBar"};function K(e){var n=e+"";return n.length}var ee=class extends C{_name="Counter";count=0;message="My message";increment(){this.count++,this.message+="!"}decrement(){this.count--}},Ce=[function(e){return function(n){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(K(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" "+(K(e.message)??"")+`
`},function(e){return function(n){e.increment()}},function(e){return function(n){e.increment(n)}},function(e){return e.increment.bind(e)},function(e){return e.message}];var ne=class extends C{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP"},Te=[function(e){return e.title},function(e){return e.title}];var te=class extends C{_name="Layout";title="Viewi"},Ne=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var oe=class extends C{_name="NotFoundPage"};var re=class extends C{_name="CounterPage"};var ie=class extends C{_name="TodoAppPage"};var ce=class extends C{_name="StatefulCounter";counter=null;$message="Secret message";count=null;constructor(n){super(),this.count=n===void 0?0:n,this.counter=new J}$calculate(){this.count++}},ke=[function(e){return function(n){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(n){e.counter.increment()}}];function Q(e,n){let t,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;n==="COUNT_RECURSIVE"&&(n=1),n!==1&&(n=0);for(t in e)e.hasOwnProperty(t)&&(o++,n===1&&e[t]&&(e[t].constructor===Array||e[t].constructor===Object)&&(o+=Q(e[t],1)));return o}var ue=class extends C{_name="StatefulTodoApp";text="";todo=null;constructor(n){super(),this.todo=n}handleSubmit(n){n.preventDefault(),K(this.text)!=0&&(this.todo.addNewItem(this.text),this.text="")}},Ae=[function(e){return function(n){e.handleSubmit(n)}},function(e){return[function(n){return n.text},function(n,t){n.text=t}]},function(e){return`
        Add #`+(Q(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var se=class extends C{_name="ItemComponent"};var ae=class extends C{_name="SomeComponent"};var le=class extends C{_name="TestButton";id=null;title=null;class=null;disabled=!1;loading=!1},_e=[function(e){return e.id},function(e){return e.disabled},function(e){return e.title},function(e){return e.class},function(e){return" "+(e.title??"")+`
    `},function(e){return e.loading}];function be(e){var n=typeof window<"u"?window:global;n.$locutus=n.$locutus||{};var t=n.$locutus;t.php=t.php||{};var o=n.JSON,i;try{if(typeof o=="object"&&typeof o.stringify=="function"){if(i=o.stringify(e),i===void 0)throw new SyntaxError("json_encode");return i}var c=e,u=function(l){var b=["\0-","\x7F-\x9F","\xAD","\u0600-\u0604","\u070F","\u17B4","\u17B5","\u200C-\u200F","\u2028-\u202F","\u2060-\u206F","\uFEFF","\uFFF0-\uFFFF"].join(""),r=new RegExp('[\\"'+b+"]","g"),f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return r.lastIndex=0,r.test(l)?'"'+l.replace(r,function(x){var y=f[x];return typeof y=="string"?y:"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'},s=function(l,b){var r="",f="    ",x=0,y="",v="",a=0,T=r,p=[],m=b[l];switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(l)),typeof m){case"string":return u(m);case"number":return isFinite(m)?String(m):"null";case"boolean":return String(m);case"object":if(!m)return"null";if(r+=f,p=[],Object.prototype.toString.apply(m)==="[object Array]"){for(a=m.length,x=0;x<a;x+=1)p[x]=s(x,m)||"null";return v=p.length===0?"[]":r?`[
`+r+p.join(`,
`+r)+`
`+T+"]":"["+p.join(",")+"]",v}for(y in m)Object.hasOwnProperty.call(m,y)&&(v=s(y,m),v&&p.push(u(y)+(r?": ":":")+v));return v=p.length===0?"{}":r?`{
`+r+p.join(`,
`+r)+`
`+T+"}":"{"+p.join(",")+"}",v;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return s("",{"":c})}catch(l){if(!(l instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return t.php.last_error_json=4,null}}var me=class extends C{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;message="Some message";checked=!1;checked2=!0;checkedNames=[];picked="One";selected="";selectedList=["A","C"];getNames(){return be(this.checkedNames)}getName(n){var t=60;return n??"DefaultName"}addTodo(){this.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(n){n.preventDefault()}toggleIf(){this.ifValue=!this.ifValue,this.arr=this.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){this.ifElseValue=!this.ifElseValue}},Se=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return expression.bind(e)},function(e){return e.event},function(e){return e.onEvent.bind(e)},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return[function(n){return n.name},function(n,t){n.name=t}]},function(e){return[function(n){return n.name},function(n,t){n.name=t}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(n){return n.name2},function(n,t){n.name2=t}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return[function(n){return n.message},function(n,t){n.message=t}]},function(e){return e.message},function(e){return[function(n){return n.checked},function(n,t){n.checked=t}]},function(e){return e.checked},function(e){return[function(n){return n.checked2},function(n,t){n.checked2=t}]},function(e){return e.checked2},function(e){return[function(n){return n.checkedNames},function(n,t){n.checkedNames=t}]},function(e){return[function(n){return n.checkedNames},function(n,t){n.checkedNames=t}]},function(e){return[function(n){return n.checkedNames},function(n,t){n.checkedNames=t}]},function(e){return"Checked names: "+(e.getNames()??"")},function(e){return[function(n){return n.picked},function(n,t){n.picked=t}]},function(e){return[function(n){return n.picked},function(n,t){n.picked=t}]},function(e){return"Picked: "+(e.picked??"")},function(e){return[function(n){return n.selected},function(n,t){n.selected=t}]},function(e){return"Selected: "+(e.selected??"")},function(e){return[function(n){return n.selectedList},function(n,t){n.selectedList=t}]},function(e){return[function(n){return n.selectedList},function(n,t){n.selectedList=t}]},function(e){return"Selected: "+(be(e.selectedList)??"")},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(n){e.isDisabled=!e.isDisabled}},function(e){return function(n){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(n){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(n){e.name="Viewi Junior"}},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,n,t){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,n,t){return t},function(e,n,t,o,i){return n},function(e,n,t,o,i){return o},function(e,n,t,o,i){return i},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return e.addTodo.bind(e)},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e){return e.arr},function(e,n,t){return e.ifElseValue},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return e.arr},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+". "},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.arrWithKeys},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+": "},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,i){return n},function(e,n,t,o,i){return o},function(e,n,t,o,i){return i},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e){return e.arrNested},function(e,n,t){return n==="b"},function(e,n,t){return t},function(e,n,t,o,i){return n},function(e,n,t,o,i){return o},function(e,n,t,o,i){return i},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e){return e.toggleIf.bind(e)},function(e){return e.toggleElseIf.bind(e)},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,n,t){return t}];var fe=class extends C{_name="TodoApp";text="";items=[];handleSubmit(n){n.preventDefault(),K(this.text)!=0&&(this.items.push(this.text),this.text="")}},Ie=[function(e){return function(n){e.handleSubmit(n)}},function(e){return[function(n){return n.text},function(n,t){n.text=t}]},function(e){return`
        Add #`+(Q(e.items)+1)+`
    `},function(e){return e.items}];var de=class extends C{_name="TodoList";items=null},$e=[function(e){return e.items},function(e,n,t){return t}];var X={CounterReducer:J,TodoReducer:Z,MenuBar:q,Counter_x:Ce,Counter:ee,HomePage_x:Te,HomePage:ne,Layout_x:Ne,Layout:te,NotFoundPage:oe,CounterPage:re,TodoAppPage:ie,StatefulCounter_x:ke,StatefulCounter:ce,StatefulTodoApp_x:Ae,StatefulTodoApp:ue,ItemComponent:se,SomeComponent:ae,TestButton_x:_e,TestButton:le,TestComponent_x:Se,TestComponent:me,TodoApp_x:Ie,TodoApp:fe,TodoList_x:$e,TodoList:de};function we(e){let n=new Proxy(e,{set(t,o,i){var c=t[o]!==i,u=Reflect.set(t,o,i);if(c&&o in t.$$r)for(let s in t.$$r[o]){let l=t.$$r[o][s];l[0].apply(null,l[1])}return u}});return e.$=e,n}function Be(e,n){let t=L(e),o=e.childNodes.length,i=t.current+3;i=i>o?o:i;let c=[];for(let s=t.current+1;s<i;s++){let l=e.childNodes[s];if(l.nodeType===8)return t.current=s,t.invalid=t.invalid.concat(c),l;c.push(s)}t.added++,t.invalid=t.invalid.concat(c),console.log("Hydrate comment not found",n);let u=document.createComment(n);return t.current=t.current+c.length+1,o>t.current?e.insertBefore(u,e.childNodes[t.current]):e.appendChild(u)}function Ee(e,n){let t=L(e),o=e.childNodes.length,i=t.current+3;i=i>o?o:i;let c=[];for(let s=t.current+1;s<i;s++){let l=e.childNodes[s];if(l.nodeType===1&&l.nodeName.toLowerCase()===n)return t.current=s,t.invalid=t.invalid.concat(c),l;c.push(s)}t.added++,t.invalid=t.invalid.concat(c),console.warn("Hydrate not found",n);let u=document.createElement(n);return t.current=t.current+c.length+1,o>t.current?e.insertBefore(u,e.childNodes[t.current]):e.appendChild(u)}function U(e,n,t,o){let i=[e];o.arguments&&(i=i.concat(o.arguments));let c=(n.expression?e.$$t[n.code].apply(null,i):n.content)??"";t.nodeValue!==c&&(t.nodeValue=c)}function Me(e,n,t,o){let i=L(e),c=e.childNodes.length,u=i.current+3;u=u>c?c:u;let s=[],l=i.current>-1?i.current:i.current+1;for(let r=l;r<u;r++){let f=e.childNodes[r];if(f.nodeType===3){if(r===i.current)break;return i.current=r,i.invalid=i.invalid.concat(s),U(n,t,f,o),f}r!==i.current&&s.push(r)}i.added++,i.invalid=i.invalid.concat(s);let b=document.createTextNode("");return U(n,t,b,o),i.current=i.current+s.length+1,c>i.current?e.insertBefore(b,e.childNodes[i.current]):e.appendChild(b)}function W(e,n,t,o,i){let c=null;if(n.children){c="";for(let u=0;u<n.children.length;u++){let s=n.children[u],l=[e];i.arguments&&(l=l.concat(i.arguments));let b=s.expression?e.$$t[s.code].apply(null,l):s.content??"";c=u===0?b:c+(b??"")}}o.toLowerCase()in j.booleanAttributes?c===!0||c===null?o!==t.getAttribute(o)&&t.setAttribute(o,o):t.removeAttribute(o):c!==null?c!==t.getAttribute(o)&&t.setAttribute(o,c):t.removeAttribute(o)}function R(e){for(let n in e.track){let t=e.track[n];delete e.instance.$$r[t.path][t.id]}if(e.track=[],e.components=[],e.children){for(let n in e.children)R(e.children[n]);e.children={}}e.parent&&(delete e.parent.children[e.id],delete e.parent)}function De(e,n,t,o,i,c,u){let s=[e];u.arguments&&(s=s.concat(u.arguments));let l=e.$$t[t.children[0].forData].apply(null,s),b=Array.isArray(l),r=o,f=!1,x={},y={};for(let v in l){let a=b?+v:v,T=l[a],p=++u.counter,m={id:p,instance:e,arguments:[...u.arguments],components:[],map:{...u.map},track:[],parent:u,children:{},counter:0};u.children[p]=m;let S=!1;for(let A in i)if(i[A]===T){S=!0,f=!1,r=o;break}else!f&&!(a in x)&&(r=i[A].begin,f=!0);if(x[a]=!0,!S){m.map[t.children[0].forKey]=m.arguments.length,m.arguments.push(a),m.map[t.children[0].forItem]=m.arguments.length,m.arguments.push(T);let A={map:{...c.map},storage:{...c.storage}},d=$(r,!0,void 0,"b"+Y());w(r,e,[n],m,A,!1,!0);let g=$(r,!0,void 0,d._anchor);a in i&&(y[a]=i[a]),i[a]={key:a,value:T,begin:d,end:g,scope:m}}}for(let v in i)if(!(v in x)){let a=i[v].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();i[v].begin.remove(),a.remove(),R(i[v].scope),delete i[v]}for(let v in y){let a=y[v].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();y[v].begin.remove(),R(y[v].scope),a.remove()}}function pe(e,n,t,o,i,c,u){let s=!0;for(let r=0;r<u;r++)s=s&&!i.values[r];o.children&&(s=s&&!!e.$$t[o.children[0].code](e));let l=t.anchorNode,b={map:{...c.map},storage:{...c.storage}};if(i.values[u]!==s){let r=t.scope.parent;if(i.values[u]=s,s){let f=++r.counter,x={id:f,instance:e,arguments:[...r.arguments],components:[],map:{...r.map},track:[],parent:r,children:{},counter:0};t.scope=x,r.children[f]=x,w(l,e,[n],x,b,!1,!0)}else for(R(t.scope),t.scope={id:-1,instance:e,arguments:[],components:[],map:{},track:[],parent:r,children:{},counter:0};l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove()}}function Le(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"";t.nodeValue!==o&&(t.nodeValue=o)}var Ue=0;function B(e,n,t,o){e.$$r[n]||(e.$$r[n]={});let i=++Ue;t.track.push({id:i,path:n}),e.$$r[n][i]=o}function F(e){let n="value";switch(e.t){case"t":{n="tag";break}case"a":{n="attr";break}case void 0:case"v":{n="value";break}case"c":{n="component";break}case"x":{n="text";break}case"m":{n="comment";break}case"r":{n="root";break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=n,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let t in e.attributes)F(e.attributes[t])}if(e.i){e.directives=e.i,delete e.i;for(let t in e.directives)F(e.directives[t])}if(e.h){e.children=e.h,delete e.h;for(let t in e.children)F(e.children[t])}}function Ve(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"",i=n.type==="component"||n.expression&&he(o),c=t.anchorNode,u=t.scope.parent;for(R(t.scope);c.previousSibling._anchor!==c._anchor;)c.previousSibling.remove();let s=++u.counter,l={id:s,arguments:[...u.arguments],components:[],map:{...u.map},track:[],instance:e,parent:u,children:{},counter:0};if(t.scope=l,u.children[s]=l,i){let b={};if(n.slots){let f={id:++l.counter,arguments:[...u.arguments],components:[],map:{...u.map},track:[],parent:l,children:{},counter:0,slots:u.slots};for(let x in n.slots)b[x]={node:n.slots[x],scope:f}}G(c,o,{attributes:n.attributes,scope:u,instance:e},b,!1,!0);return}else{let b=c.parentElement.insertBefore(document.createElement(o),c);if(n.attributes)for(let r in n.attributes){let f=n.attributes[r],x=f.expression?e.$$t[f.code](e):f.content??"";if(x[0]==="("){let y=x.substring(1,x.length-1);if(f.children){let v=e.$$t[f.dynamic?f.dynamic.code:f.children[0].code](e);b.addEventListener(y,v)}}else{W(e,f,b,x,l);let y=[];if(f.children)for(let v in f.children){let a=f.children[v];a.subs&&(y=y.concat(a.subs))}if(y)for(let v in y){let a=y[v];B(e,a,l,[W,[e,f,b,x,l]])}}}n.children&&w(b,e,n.children,l,void 0,!1,!1)}}function He(e,n,t,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let i=o.parentElement,c=document.createElement(i.nodeName),u=[e];t.arguments&&(u=u.concat(t.arguments));let s=(n.expression?e.$$t[n.code].apply(null,u):n.content)??"";c.innerHTML=s;let l=Array.prototype.slice.call(c.childNodes);for(let b=0;b<l.length;b++){let r=l[b];i.insertBefore(r,o)}}function Pe(e,n){return function(t){if(n.inputType==="checkbox"){let o=n.getter(e),i=t.target.value;if(Array.isArray(o)){let c=o.slice(),u=c.indexOf(i);u===-1?t.target.checked&&c.push(i):t.target.checked||c.splice(u,1),n.setter(e,c)}else n.setter(e,t.target.checked)}else if(n.inputType==="radio"){let o=t.target.value;n.setter(e,o)}else if(n.isMultiple){let o=t.target.options,i=[];for(let c=0;c<o.length;c++){let u=o[c];u.selected&&i.push(u.value)}n.setter(e,i)}else n.setter(e,t.target.value)}}function xe(e,n,t){if(t.inputType==="checkbox"){let o=t.getter(n);if(Array.isArray(o)){let i=e.value;o.indexOf(i)===-1?(e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0)}else o?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(t.inputType==="radio"){let o=t.getter(n),i=e.value;o===i?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(t.isMultiple){let o=e.options,i=t.getter(n);for(let c=0;c<o.length;c++){let u=o[c];i.indexOf(u.value)===-1?u.selected=!1:u.selected=!0}}else e.value=t.getter(n)}function w(e,n,t,o,i,c=!0,u=!1){let s=null,l=!1;for(let b=0;b<t.length;b++){let r=t[b],f=e,x=!1,y=!1,v=o;switch(r.type){case"tag":case"component":{if(r.directives){let d=i||{map:{},storage:{}},g=[n];o.arguments&&(g=g.concat(o.arguments));for(let k=0;k<r.directives.length;k++){let h=r.directives[k];if(!(k in d.map)){switch(d.map[k]=!0,h.content){case"if":{s={values:[],index:0,subs:[]};let N=!!n.$$t[h.children[0].code].apply(null,g);s.values.push(N);let I=c?L(e):void 0,E=$(e,u,I),P={map:{...d.map},storage:{...d.storage}},M=++o.counter,D={id:M,arguments:o.arguments,components:[],map:o.map,instance:n,track:[],parent:o,children:{},counter:0};o.children[M]=D,N&&w(e,n,[r],D,d,c,u);let H=$(e,u,I,E._anchor);if(h.children[0].subs)for(let _ in h.children[0].subs){let V=h.children[0].subs[_];s.subs.push(V),B(n,V,o,[pe,[n,r,{scope:D,anchorNode:H},h,s,P,s.index]])}s.index++,x=!0;break}case"else-if":{if(s){let N=!0;for(let _=0;_<s.index;_++)N=N&&!s.values[_];N=N&&!s.values[s.index-1]&&!!n.$$t[h.children[0].code].apply(null,g),s.values.push(N);let I=c?L(e):void 0,E=$(e,u,I),P={map:{...d.map},storage:{...d.storage}},M=++o.counter,D={id:M,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.children[M]=D,N&&w(e,n,[r],D,d,c,u);let H=$(e,u,I,E._anchor);h.children[0].subs&&(s.subs=s.subs.concat(h.children[0].subs));for(let _ in s.subs){let V=s.subs[_];B(n,V,o,[pe,[n,r,{scope:D,anchorNode:H},h,s,P,s.index]])}s.index++,x=!0}else console.warn("Directive else-if has missing previous if/else-if",h.content,h);break}case"else":{if(s){let N=!0;for(let _=0;_<s.index;_++)N=N&&!s.values[_];s.values.push(N);let I=c?L(e):void 0,E=$(e,u,I),P={map:{...d.map},storage:{...d.storage}},M=++o.counter,D={id:M,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.children[M]=D,N&&w(e,n,[r],D,d,c,u);let H=$(e,u,I,E._anchor);for(let _ in s.subs){let V=s.subs[_];B(n,V,o,[pe,[n,r,{scope:D,anchorNode:H},h,s,P,s.index]])}s.index++,x=!0}else console.warn("Directive else has missing previous if/else-if",h.content,h);break}case"foreach":{let N=n.$$t[h.children[0].forData].apply(null,g),I=c?L(e):void 0,E=$(e,u,I),P=Array.isArray(N),M={};for(let H in N){let _=P?+H:H,V=N[_],ve=++o.counter,O={id:ve,instance:n,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:o,children:{},counter:0};o.children[ve]=O,O.map[h.children[0].forKey]=O.arguments.length,O.arguments.push(_),O.map[h.children[0].forItem]=O.arguments.length,O.arguments.push(V);let je={map:{...d.map},storage:{...d.storage}},ge=$(e,u,I,"b"+Y());w(e,n,[r],O,je,c,u);let Re=$(e,u,I,ge._anchor);M[_]={key:_,value:V,begin:ge,end:Re,scope:O}}let D=$(e,u,I,E._anchor);if(h.children[0].subs)for(let H in h.children[0].subs){let _=h.children[0].subs[H],V={map:{...d.map},storage:{...d.storage}};B(n,_,o,[De,[n,r,h,D,M,V,o]])}x=!0;break}default:{console.warn("Directive not implemented",h.content,h),x=!0;break}}if(x)break}}if(x)continue}let a=r.expression?n.$$t[r.code](n):r.content??"",T=r.subs,p=r.type==="component"||r.expression&&he(a),m,S,A;if(T&&(m=c?L(e):void 0,S=$(e,u,m)),T||p){let d=++o.counter;A={id:d,arguments:[...o.arguments],components:[],map:{...o.map},track:[],instance:n,parent:o,children:{},counter:0},o.children[d]=A,v=A}if(p){let d={};if(r.slots){let g=++A.counter,k={id:g,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:A,instance:n,children:{},counter:0,slots:o.slots};A.children[g]=k;for(let h in r.slots)d[h]={node:r.slots[h],scope:k}}G(e,a,{attributes:r.attributes,scope:o},d,c,u)}else{if(r.content==="template"){l=u;break}if(r.content==="slot"){l=u;let d="default";if(r.attributes)for(let g in r.attributes)r.attributes[g].content==="name"&&(d=r.attributes[g].children[0].content);if(d in o.slots){let g=o.slots[d];g.node.unpacked||(F(g.node),g.node.unpacked=!0),w(f,g.scope.instance,g.node.children,g.scope,void 0,c,l)}else r.children&&w(f,n,r.children,o,void 0,c,l);continue}y=!0,f=c?Ee(e,a):u?e.parentElement.insertBefore(document.createElement(a),e):e.appendChild(document.createElement(a))}if(T){let d=$(e,u,m,S._anchor);if(r.subs)for(let g in r.subs){let k=r.subs[g];B(n,k,o,[Ve,[n,r,{scope:A,anchorNode:d}]])}}if(p)continue;break}case"text":{if(r.raw){let T=u?e.parentElement:e,p=document.createElement(T.nodeName),m=[n];o.arguments&&(m=m.concat(o.arguments));let S=(r.expression?n.$$t[r.code].apply(null,m):r.content)??"";p.innerHTML=S;let A=c?L(e):void 0,d=$(e,u,A);if(c){if(p.childNodes.length>0){let k=Array.prototype.slice.call(p.childNodes);for(let h=0;h<k.length;h++){let N=k[h],I=N.nodeType;if(I!==3){A.current++;let E=e.childNodes[A.current];(E.nodeType!==I||I===1&&E.nodeName!==N.nodeName)&&console.log("Missmatch")}}}}else if(p.childNodes.length>0){let k=Array.prototype.slice.call(p.childNodes);for(let h=0;h<k.length;h++){let N=k[h];u?e.parentElement.insertBefore(N,e):e.appendChild(N)}}let g=$(e,u,A,d._anchor);if(r.subs)for(let k in r.subs){let h=r.subs[k];B(n,h,o,[He,[n,r,o,g]])}break}let a;if(c?a=Me(e,n,r,o):(a=document.createTextNode(""),U(n,r,a,o),u?e.parentElement.insertBefore(a,e):e.appendChild(a)),r.subs)for(let T in r.subs){let p=r.subs[T];B(n,p,o,[U,[n,r,a,o]])}break}case"comment":{let a=r.expression?n.$$t[r.code](n):r.content??"",T=c?Be(e,a):u?e.parentElement.insertBefore(document.createComment(a),e):e.appendChild(document.createComment(a));if(r.subs)for(let p in r.subs){let m=r.subs[p];B(n,m,o,[Le,[n,r,T]])}break}default:{console.warn("Node type not implemented",r);break}}if(y){if(r.attributes){let a=c?f.getAttributeNames():null,T=c?{}:null;for(let p=0;p<r.attributes.length;p++){let m=r.attributes[p],S=m.expression?n.$$t[m.code](n):m.content??"",A=S==="model";if(S[0]==="("){let d=S.substring(1,S.length-1);if(m.children){let g=n.$$t[m.dynamic?m.dynamic.code:m.children[0].code](n);f.addEventListener(d,g)}}else if(A){let d="text";f.getAttribute("type")==="checkbox"&&(d="checkbox"),f.getAttribute("type")==="radio"&&(d="radio");let g=!1;f.tagName==="SELECT"&&(d="select",g=f.multiple);let k=d==="checkbox"||d==="radio"||d==="select",h=m.children[0],N=n.$$t[h.code](n),I=k?"change":"input",E={getter:N[0],setter:N[1],inputType:d,isMultiple:g};xe(f,n,E);for(let P in h.subs){let M=h.subs[P];B(n,M,o,[xe,[f,n,E]])}f.addEventListener(I,Pe(n,E))}else{c&&(T[S]=!0),W(n,m,f,S,o);let d=[];if(m.children)for(let g in m.children){let k=m.children[g];k.subs&&(d=d.concat(k.subs))}if(d)for(let g in d){let k=d[g];B(n,k,o,[W,[n,m,f,S,o]])}}}if(c)for(let p=0;p<a.length;p++)a[p]in T||f.removeAttribute(a[p])}else if(c){let a=f.getAttributeNames();for(let T=0;T<a.length;T++)f.removeAttribute(a[T])}}r.children&&w(f,n,r.children,v,void 0,c,l)}}function Oe(e,n,t){let o=t.scope.instance,i=n.expression?o.$$t[n.code](o):n.content??"";if(i[0]!=="("){let c=null,u=[];if(n.children)for(let s=0;s<n.children.length;s++){let l=n.children[s],b=[o];t.scope.arguments&&(b=b.concat(t.scope.arguments));let r=l.expression?o.$$t[l.code].apply(null,b):l.content??"";c=s===0?r:c+(r??""),l.subs&&(u=u.concat(l.subs))}if(i==="_props"&&c)for(let s in c)e[s]=c[s],e._props[s]=c[s];else e[i]=c,e._props[i]=c}}function G(e,n,t,o,i=!1,c=!1){if(!(n in j.list))throw new Error(`Component ${n} not found.`);if(!(n in X))throw new Error(`Component ${n} not found.`);let u=j.list[n].nodes,s=we(new X[n]),l=n+"_x";l in X&&(s.$$t=X[l]);let b=t?++t.scope.counter:0,r={id:b,arguments:t?[...t.scope.arguments]:[],components:[],instance:s,map:t?{...t.scope.map}:{},track:[],children:{},counter:0,parent:t?t.scope:void 0,slots:o};if(t&&(t.scope.children[b]=r),t&&t.attributes){let f=t.scope.instance;for(let x in t.attributes){let y=t.attributes[x],v=y.expression?f.$$t[y.code](f):y.content??"";if(v[0]!=="("){let a=null,T=[];if(y.children)for(let p=0;p<y.children.length;p++){let m=y.children[p],S=[f];t.scope.arguments&&(S=S.concat(t.scope.arguments));let A=m.expression?f.$$t[m.code].apply(null,S):m.content??"";a=p===0?A:a+(A??""),m.subs&&(T=T.concat(m.subs))}else a=!0;if(v==="_props"&&a)for(let p in a)s[p]=a[p],s._props[p]=a[p];else s[v]=a,s._props[v]=a;if(T)for(let p in T){let m=T[p];B(f,m,t.scope,[Oe,[s,y,t]])}}}}if(e&&u){u.unpacked||(F(u),u.unpacked=!0);let f=u.children;f&&w(e,s,f,r,void 0,i,c)}}function he(e){return e in j.list}var We=()=>({version:"2.0.1"});globalThis.Viewi=We;console.log("Viewi entry");var Ge=document.getElementById("counter");function ze(e){G(Ge,e,void 0,{},!0,!1);for(let n in z){let t=z[n];for(let o=t.target.childNodes.length-1;o>=t.current+1;o--)t.target.childNodes[o].remove();for(let o=t.invalid.length-1;o>=0;o--)t.target.childNodes[t.invalid[o]].remove()}}(async()=>{let e=await(await fetch("/assets/components.json")).json();j.list=e;let n=e._meta.boolean.split(",");for(let t=0;t<n.length;t++)j.booleanAttributes[n[t]]=!0;setTimeout(()=>ze("TestComponent"),500)})();})();
