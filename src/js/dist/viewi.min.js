(()=>{var te=class{method;url;action;wheres;defaults=null;constructor(t,n,o,r=null,i){this.method=t,this.url=n,this.action=o,this.wheres={},this.defaults=r,i&&(this.wheres=i)}where(t,n){return t!==null&&typeof t=="object"?this.wheres=Object.assign(this.where,t):n&&(this.wheres[t]=n),this}};var ne=class{routes;trimExpr=/^\/|\/$/g;setRoutes(t){this.routes=t}getRoutes(){return this.routes}register(t,n,o,r=null,i){let c=new te(t.toLowerCase(),n,o,r,i);return this.routes.push(c),c}get(t,n){return this.register("get",t,n)}resolve(t){t=t.replace(this.trimExpr,"");let n=t.split("/");for(let o in this.routes){let r={},i=!0,c=this.routes[o],a=c.url.replace(this.trimExpr,"").split("/"),l=0,s=!1;for(l;l<a.length;l++){let h=a[l];if(h.indexOf("*")!==-1){let d=h.slice(0,-1);if(!d||n[l].indexOf(d)===0){s=!0;break}}let C=h.indexOf("{")!==-1;if(h!==n[l]&&!C){i=!1;break}if(C){let d=h.split(/[{}]+/),f=d[1];if(f[f.length-1]==="?")f=f.slice(0,-1);else if(l>=n.length){i=!1;break}if(f.indexOf("<")!==-1){let x=/<([^>]+)>/.exec(f);x&&(f=f.replace(/<([^>]+)>/g,""),c.wheres[f]=x[1])}if(c.wheres[f]){let x=new RegExp(c.wheres[f],"g");if(!x.test(n[l])){i=!1;break}x.lastIndex=0,x.test("/")&&(s=!0)}let y=l<n.length?n[l]:null;if(y&&d[0])if(y.indexOf(d[0])!==0){i=!1;break}else y=y.slice(d[0].length);if(r[f]=y,s){r[f]=n.slice(l).join("/");break}}}if(l<n.length&&!s&&(i=!1),i)return{item:c,params:r}}return null}};var M={list:{},booleanAttributes:{},router:new ne};var oe=class{onSuccess;onError=null;onAlways=null;result=null;lastError=null;action;constructor(t){this.action=t}error(t){this.onError=t}success(t){this.onSuccess=t}always(t){this.onAlways=t}run(){let t=this;this.action(function(n,o){t.result=n;let r=!1;if(o?(t.lastError=o,t.onError!==null?t.onError(o):r=!0):t.onSuccess(t.result),t.onAlways!=null&&t.onAlways(),r)throw t.lastError})}then(t,n,o){this.onSuccess=t,n&&(this.onError=n),o&&(this.onAlways=o),this.run()}};function re(){return window.viewiScopeState??{http:{},state:{}}}function je(e){return"Blob"in window&&e instanceof Blob}function Fe(e,t,n,o,r){let i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){let u=i.status,a=i.getResponseHeader("Content-Type"),l=a&&a.indexOf("application/json")===0,s=i.responseText,h=s;l&&(h=JSON.parse(i.responseText));let v={},C=i.getAllResponseHeaders();if(C){let f=C.trim().split(/[\r\n]+/);for(let y=0;y<f.length;y++){let m=f[y].split(": "),_=m.shift();if(_){let N=m.join(": ");v[_]=N}}}e({status:u,headers:v,raw:s,data:h})}};let c=o!==null&&typeof o=="object"&&!je(o);if(i.open(t.toUpperCase(),n,!0),c&&i.setRequestHeader("Content-Type","application/json"),r)for(let u in r)if(Array.isArray(r[u]))for(let a=0;a<r[u].length;a++)i.setRequestHeader(u,r[u][a]);else i.setRequestHeader(u,r[u]);o!==null?i.send(c?JSON.stringify(o):o):i.send()}var Z=class{request(t,n,o,r){return new oe(function(c){try{let u=re(),a=t.toLowerCase()+"_"+n+"_"+JSON.stringify(o);if(a in u.http){c(u.http[a]),delete u.http[a];return}Fe(function(l){l.status===0||l.status>=200&&l.status<400?c(l.data):c(void 0,l.data)},t,n,o,r)}catch(u){c(void 0,u)}})}get(t,n){return this.request("get",t,null,n)}};var ie={};var Pe={};function Ke(e,t,n){ie[e]=t,Pe[e]=n}function qe(){Ke("HttpClient",Z,()=>new Z)}var W={};var $={hydrate:!0,rootScope:!1,scopedContainer:{},located:{},iteration:{},lastIteration:{},layout:""};function F(e){if(!e.keep){for(let t in e.track){let n=e.track[t];delete e.instance.$$r[n.path][n.id]}if(e.track=[],e.children){for(let t in e.children)F(e.children[t]);e.children={}}if(e.main){for(let n=0;n<e.instance.$$p.length;n++){let o=e.instance.$$p[n];delete o[1].$$r[o[0]]}let t=e.instance;t.destroy&&t.destroy()}e.parent&&(delete e.parent.children[e.id],delete e.parent)}}var se=class{id=null;name=null};var G=class{id=null;name=null};var ce=class{count=0;increment(){var t=this;t.count++}decrement(){var t=this;t.count--}};var ue=class{items=[];addNewItem(t){var n=this;n.items=[...n.items,t]}};var b=class{__id="";_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$$p=[];$;_name="BaseComponent";emitEvent(t,n){t in this.$_callbacks&&this.$_callbacks[t](n)}};var ae=class extends b{_name="DemoContainer"};var le=class extends b{_name="MenuBar"};function J(e){var t=e+"";return t.length}var fe=class extends b{_name="Counter";count=0;message="My message";increment(){var t=this;t.count++,t.message+="!"}decrement(){var t=this;t.count--}},Je=[function(e){return function(t){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(J(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" strlen:"+(J(e.message)??"")+`
`},function(e){return function(t){e.count++}},function(e){return function(t){e.increment()}},function(e){return function(t){e.increment(t)}},function(e){return function(t){e.increment(t)}},function(e){return e.message}];var me=class extends b{_name="ViewiAssets";appPath="";data='<script data-keep="ViewiAssets">"ViewiAssets";<\/script>'},Ue=[function(e){return e.data},function(e){return e.appPath}];var pe=class extends b{_name="Layout";title="Viewi"},We=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var de=class extends b{_name="PanelLayout";title="Viewi";timerId=0;seconds=0;init(){var t=this;t.seconds=500,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("PanelLayout time "+t.seconds)}},Ge=[function(e){return e.seconds},function(e){return e.title},function(e){return"Panel: "+(e.seconds??"")+" "+(e.title??"")}];var he=class extends b{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP";timerId=0;seconds=0;init(){var t=this;t.seconds=100,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("HomePage time "+t.seconds)}},Xe=[function(e){return e.title},function(e){return e.title},function(e){return"Seconds: "+(e.seconds??"")}];var xe=class extends b{_name="AreaLayout";title="Area Layout"},Ye=[function(e){return`
        `+(e.title??"")+` | Area
    `}];var ye=class extends b{_name="NotFoundPage"};var ge=class extends b{_name="StatefulCounter";counter=null;count=null;constructor(t,n){super();var o=this;o.counter=t,o.count=n===void 0?0:n,o.counter.count+=100}},ze=[function(e){return function(t){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(t){e.counter.increment()}}];var be=class extends b{_name="CounterPage"};var lo=ie.HttpClient,ve=class extends b{_name="PostPage";post=null;error="";message="";$http=null;constructor(t){super();var n=this;n.$http=t}init(){var t=this;t.$http.get("/api/post").then(function(n){t.post=n,t.message="Post has been read successfully"},function(){t.error="Server error"})}},Qe=[function(e){return e.post?e.post.name:""},function(e){return"Message: "+(e.message??"")},function(e){return"Error: "+(e.error??"")},function(e){return e.post},function(e){return`
            `+(e.post.id??"")+" "+(e.post.name??"")+`
        `}];var Ce=class extends b{_name="TestLayoutPage"};function Re(e){let t=typeof window<"u"?window:global;t.$locutus=t.$locutus||{};let n=t.$locutus;n.php=n.php||{};let o=t.JSON,r;try{if(typeof o=="object"&&typeof o.stringify=="function"){if(r=o.stringify(e),r===void 0)throw new SyntaxError("json_encode");return r}let c=e,u=function(a){let l=["\0-","\x7F-\x9F","\xAD","\u0600-\u0604","\u070F","\u17B4","\u17B5","\u200C-\u200F","\u2028-\u202F","\u2060-\u206F","\uFEFF","\uFFF0-\uFFFF"].join(""),s=new RegExp('[\\"'+l+"]","g"),h={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(a)?'"'+a.replace(s,function(v){let C=h[v];return typeof C=="string"?C:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'};var i=function(a,l){let s="",h="    ",v=0,C="",d="",f=0,y=s,x=[],m=l[a];switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(a)),typeof m){case"string":return u(m);case"number":return isFinite(m)?String(m):"null";case"boolean":return String(m);case"object":if(!m)return"null";if(s+=h,x=[],Object.prototype.toString.apply(m)==="[object Array]"){for(f=m.length,v=0;v<f;v+=1)x[v]=i(v,m)||"null";return d=x.length===0?"[]":s?`[
`+s+x.join(`,
`+s)+`
`+y+"]":"["+x.join(",")+"]",d}for(C in m)Object.hasOwnProperty.call(m,C)&&(d=i(C,m),d&&x.push(u(C)+(s?": ":":")+d));return d=x.length===0?"{}":s?`{
`+s+x.join(`,
`+s)+`
`+y+"}":"{"+x.join(",")+"}",d;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return i("",{"":c})}catch(c){if(!(c instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return n.php.last_error_json=4,null}}function ee(e,t){let n,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;t==="COUNT_RECURSIVE"&&(t=1),t!==1&&(t=0);for(n in e)e.hasOwnProperty(n)&&(o++,t===1&&e[n]&&(e[n].constructor===Array||e[n].constructor===Object)&&(o+=ee(e[n],1)));return o}var ke=class extends b{_name="TodoList";items=null},Ze=[function(e){return e.items},function(e,t,n){return n}];var Te=class extends b{_name="TodoApp";text="";items=[];handleSubmit(t){var n=this;t.preventDefault(),J(n.text)!=0&&(n.items=[...n.items,n.text],n.text="")}},et=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(ee(e.items)+1)+`
    `},function(e){return e.items}];var _e=class extends b{_name="TestInput";id=null;model=null;onInput(t){var n=this;n.emitEvent("model",t.target.value)}},tt=[function(e){return function(t){e.onInput(t)}},function(e){return[function(t){return t.model},function(t,n){t.model=n}]}];var Ae=class extends b{_name="TestButton";id=null;title=null;class=null;disabled=!1;loading=!1;onClick(t){var n=this;n.emitEvent("click",t)}},nt=[function(e){return e.id},function(e){return e.disabled},function(e){return e.title},function(e){return e.class},function(e){return function(t){e.onClick(t)}},function(e){return" "+(e.title??"")+`
    `},function(e){return e.loading}];var Ne=class extends b{_name="ItemComponent"};var $e=class extends b{_name="SomeComponent"};var Se=class extends b{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;message="Some message";checked=!1;checked2=!0;checkedNames=[];picked="One";selected="";selectedList=["A","C"];user=null;NameInput=null;testModel="some test";counterReducer=null;constructor(t){super();var n=this;n.counterReducer=t,n.user=new G,n.user.id=1,n.user.name="Miki the cat",n.counterReducer.increment()}getNames(){var t=this;return Re(t.checkedNames)}getName(t){var n=this;t=typeof t<"u"?t:null;var o=(1+5)*10;return t??"DefaultName"}addTodo(){var t=this;t.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(t){var n=this;t.preventDefault()}toggleIf(){var t=this;t.ifValue=!t.ifValue,t.arr=t.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){var t=this;t.ifElseValue=!t.ifElseValue}},ot=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return function(t){expression(t)}},function(e){return e.event},function(e){return function(t){e.onEvent(t)}},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return e.testModel},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")+`
`},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.counterReducer.increment(t)}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return e.__id},function(e){return"First Name ("+(e.__id??"")+")"},function(e){return e.__id},function(e){return function(t){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return[function(t){return t.user.name},function(t,n){t.user.name=n}]},function(e){return e.user.name},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(t){return t.name2},function(t,n){t.name2=n}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return[function(t){return t.message},function(t,n){t.message=n}]},function(e){return e.message},function(e){return[function(t){return t.checked},function(t,n){t.checked=n}]},function(e){return e.checked},function(e){return[function(t){return t.checked2},function(t,n){t.checked2=n}]},function(e){return e.checked2},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return"Checked names: "+(e.getNames()??"")},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return"Picked: "+(e.picked??"")},function(e){return[function(t){return t.selected},function(t,n){t.selected=n}]},function(e){return"Selected: "+(e.selected??"")},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return"Selected: "+(Re(e.selectedList)??"")},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(t){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(t){e.name="Viewi Junior"}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,t,n){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return function(t){e.addTodo(t)}},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arr},function(e,t,n){return e.ifElseValue},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return e.arr},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+". "},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.arrWithKeys},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+": "},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arrNested},function(e,t,n){return t==="b"},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return function(t){e.toggleIf(t)}},function(e){return function(t){e.toggleElseIf(t)}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,t,n){return n}];var we=class extends b{_name="TestPage"};var Ie=class extends b{_name="StatefulTodoApp";text="";todo=null;constructor(t){super();var n=this;n.todo=t}handleSubmit(t){var n=this;t.preventDefault(),J(n.text)!=0&&(n.todo.addNewItem(n.text),n.text="")}},rt=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(ee(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var Me=class extends b{_name="TodoAppPage"};var U={PostModel:se,UserModel:G,CounterReducer:ce,TodoReducer:ue,DemoContainer:ae,MenuBar:le,Counter_x:Je,Counter:fe,HomePage_x:Xe,HomePage:he,AreaLayout_x:Ye,AreaLayout:xe,Layout_x:We,Layout:pe,PanelLayout_x:Ge,PanelLayout:de,NotFoundPage:ye,CounterPage:be,PostPage_x:Qe,PostPage:ve,TestLayoutPage:Ce,TestPage:we,TodoAppPage:Me,StatefulCounter_x:ze,StatefulCounter:ge,StatefulTodoApp_x:rt,StatefulTodoApp:Ie,ItemComponent:Ne,SomeComponent:$e,TestButton_x:nt,TestButton:Ae,TestComponent_x:ot,TestComponent:Se,TestInput_x:tt,TestInput:_e,TodoApp_x:et,TodoApp:Te,TodoList_x:Ze,TodoList:ke,ViewiAssets_x:Ue,ViewiAssets:me};function it(e,t){return function(n){t(e,n)}}var st={_props:!0,$_callbacks:!0,_refs:!0,_slots:!0,_element:!0,$$t:!0,$$r:!0,$:!0,_name:!0,emitEvent:!0};var Tt=0;function _t(e,t,n){let o=e.$??e;return o.$||(Object.defineProperty(o,"$",{enumerable:!1,writable:!0,value:o}),Object.defineProperty(o,"$$r",{enumerable:!1,writable:!0,value:{}})),new Proxy(o,{set(i,c,u){let a=i[c]!==u,l=Reflect.set(i,c,u);if(a)for(let s in i.$$r){let h=i.$$r[s][0],v=i.$$r[s][1],C=h+"."+c;if(C in v.$$r)for(let d in v.$$r[C]){let f=v.$$r[C][d];f[0].apply(null,f[1])}}return l}})}function ct(e){let t=Object.keys(e);for(let o=0;o<t.length;o++){let r=t[o],i=e[r];if(!(r in st)&&i!==null&&typeof i=="object"&&!Array.isArray(i)){let c=_t(i,e,r);e[r]=c;let u=++Tt+"";c.$$r[u]=[r,e],e.$$p.push([u,c])}}let n=new Proxy(e,{set(o,r,i){let c=o[r]!==i,u=Reflect.set(o,r,i);if(c&&r in o.$$r)for(let a in o.$$r[r]){let l=o.$$r[r][a];l[0].apply(null,l[1])}return u}});return e.$=e,n}var At=0;function R(e){return e.__aid||(e.__aid=++At,W[e.__aid]={current:-1,target:e,invalid:[],added:0}),W[e.__aid]}function ut(e,t){let n=R(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let u=n.current+1;u<r;u++){let a=e.childNodes[u];if(a.nodeType===8)return n.current=u,n.invalid=n.invalid.concat(i),a;i.push(u)}n.added++,n.invalid=n.invalid.concat(i),console.log("Hydrate comment not found",t);let c=document.createComment(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(c,e.childNodes[n.current]):e.appendChild(c)}var Nt={body:!0,head:!0,html:!0};function at(e,t){let n=R(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let u=n.current+1;u<r;u++){let a=e.childNodes[u];if(a.nodeType===1&&a.nodeName.toLowerCase()===t)return n.current=u,n.invalid=n.invalid.concat(i),a;i.push(u)}if(t in Nt){let u=document.getElementsByTagName(t);if(u.length>0)return n.invalid=[],u[0]}n.added++,n.invalid=n.invalid.concat(i),console.warn("Hydrate not found",t);let c=document.createElement(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(c,e.childNodes[n.current]):e.appendChild(c)}function X(e,t,n,o){let r=[e];o.arguments&&(r=r.concat(o.arguments));let i=(t.expression?e.$$t[t.code].apply(null,r):t.content)??"";n.nodeValue!==i&&(n.nodeValue=i)}function lt(e,t,n,o){let r=R(e),i=e.childNodes.length,c=r.current+3;c=c>i?i:c;let u=[],a=r.current>-1?r.current:r.current+1;for(let s=a;s<c;s++){let h=e.childNodes[s];if(h.nodeType===3){if(s===r.current)break;return r.current=s,r.invalid=r.invalid.concat(u),X(t,n,h,o),h}s!==r.current&&u.push(s)}r.added++,r.invalid=r.invalid.concat(u);let l=document.createTextNode("");return X(t,n,l,o),r.current=r.current+u.length+1,i>r.current?e.insertBefore(l,e.childNodes[r.current]):e.appendChild(l)}function Y(e,t,n,o,r){let i=null;if(t.children){i="";for(let c=0;c<t.children.length;c++){let u=t.children[c],a=[e];r.arguments&&(a=a.concat(r.arguments));let l=u.expression?e.$$t[u.code].apply(null,a):u.content??"";i=c===0?l:i+(l??"")}}o.toLowerCase()in M.booleanAttributes?i===!0||i===null?o!==n.getAttribute(o)&&n.setAttribute(o,o):n.removeAttribute(o):i!==null?i!==n.getAttribute(o)&&n.setAttribute(o,i):n.removeAttribute(o)}var ft=0;function Ee(){return++ft}function I(e,t=!1,n,o){let r=document.createTextNode("");return r._anchor=o??"#"+ ++ft,n&&n.current++,t||n&&e.childNodes.length>n.current?(n?e:e.parentElement).insertBefore(r,n?e.childNodes[n.current]:e):e.appendChild(r),r}function mt(e,t,n,o,r,i,c){let u=[e];c.arguments&&(u=u.concat(c.arguments));let a=e.$$t[n.children[0].forData].apply(null,u),l=Array.isArray(a),s=o,h=!1,v={},C={};for(let d in a){let f=l?+d:d,y=a[f],x=++c.counter,m={id:x,why:"forItem",instance:e,arguments:[...c.arguments],map:{...c.map},track:[],parent:c,children:{},counter:0};c.refs&&(m.refs=c.refs),c.children[x]=m;let _=!1;for(let N in r)if(r[N]===y){_=!0,h=!1,s=o;break}else!h&&!(f in v)&&(s=r[N].begin,h=!0);if(v[f]=!0,!_){m.map[n.children[0].forKey]=m.arguments.length,m.arguments.push(f),m.map[n.children[0].forItem]=m.arguments.length,m.arguments.push(y);let N={map:{...i.map},storage:{...i.storage}},p=I(s,!0,void 0,"b"+Ee());L(s,e,[t],m,N,!1,!0);let k=I(s,!0,void 0,p._anchor);f in r&&(C[f]=r[f]),r[f]={key:f,value:y,begin:p,end:k,scope:m}}}for(let d in r)if(!(d in v)){let f=r[d].end;for(;f.previousSibling._anchor!==f._anchor;)f.previousSibling.remove();r[d].begin.remove(),f.remove(),F(r[d].scope),delete r[d]}for(let d in C){let f=C[d].end;for(;f.previousSibling._anchor!==f._anchor;)f.previousSibling.remove();C[d].begin.remove(),F(C[d].scope),f.remove()}}function Be(e,t,n,o,r,i,c){let u=!0;for(let s=0;s<c;s++)u=u&&!r.values[s];o.children&&(u=u&&!!e.$$t[o.children[0].code](e));let a=n.anchorNode,l={map:{...i.map},storage:{...i.storage}};if(r.values[c]!==u){let s=n.scope.parent;if(r.values[c]=u,u){let h=++s.counter,v={id:h,why:c===0?"if":o.children?"elseif":"else",instance:e,arguments:[...s.arguments],map:{...s.map},track:[],parent:s,children:{},counter:0};s.refs&&(v.refs=s.refs),n.scope=v,s.children[h]=v,L(a,e,[t],v,l,!1,!0)}else for(F(n.scope),n.scope={id:-1,why:"if",instance:e,arguments:[],map:{},track:[],parent:s,children:{},counter:0};a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove()}}function pt(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"";n.nodeValue!==o&&(n.nodeValue=o)}var St=0;function P(e,t,n,o){e.$$r[t]||(e.$$r[t]={});let r=++St;n.track.push({id:r,path:t}),e.$$r[t][r]=o}function q(e){let t="value";switch(e.t){case"t":{t="tag";break}case"a":{t="attr";break}case void 0:case"v":{t="value";break}case"c":{t="component";break}case"x":{t="text";break}case"m":{t="comment";break}case"d":{t="doctype";break}case"r":{t="root",e.h&&e.h[0].t==="x"&&e.h[0].c?.substring(0,9)==="<!DOCTYPE"&&(e.h[0].t="d");break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=t,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let n in e.attributes)q(e.attributes[n])}if(e.i){e.directives=e.i,delete e.i;for(let n in e.directives)q(e.directives[n])}if(e.h){e.children=e.h,delete e.h;for(let n in e.children)q(e.children[n])}}function Le(e){return e in M.list}function dt(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"",r=t.type==="component"||t.expression&&Le(o),i=n.anchorNode,c=n.scope.parent;for(F(n.scope);i.previousSibling._anchor!==i._anchor;)i.previousSibling.remove();let u=++c.counter,a={id:u,why:"dynamic",arguments:[...c.arguments],map:{...c.map},track:[],instance:e,parent:c,children:{},counter:0};if(c.refs&&(a.refs=c.refs),n.scope=a,c.children[u]=a,r){let l={};if(t.slots){let h={id:++a.counter,why:"slot",arguments:[...c.arguments],map:{...c.map},track:[],instance:e,parent:a,children:{},counter:0,slots:c.slots};for(let v in t.slots)l[v]={node:t.slots[v],scope:h}}z(i,o,{attributes:t.attributes,scope:c,instance:e},l,!1,!0);return}else{let l=i.parentElement.insertBefore(document.createElement(o),i);if(t.attributes)for(let s in t.attributes){let h=t.attributes[s],v=h.expression?e.$$t[h.code](e):h.content??"";if(v[0]==="("){let C=v.substring(1,v.length-1);if(h.children){let d=e.$$t[h.dynamic?h.dynamic.code:h.children[0].code](e);l.addEventListener(C,d)}}else{Y(e,h,l,v,a);let C=[];if(h.children)for(let d in h.children){let f=h.children[d];f.subs&&(C=C.concat(f.subs))}if(C)for(let d in C){let f=C[d];P(e,f,a,[Y,[e,h,l,v,a]])}}}t.children&&L(l,e,t.children,a,void 0,!1,!1)}}function ht(e,t,n,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let r=o.parentElement,i=document.createElement(r.nodeName),c=[e];n.arguments&&(c=c.concat(n.arguments));let u=(t.expression?e.$$t[t.code].apply(null,c):t.content)??"";i.innerHTML=u;let a=Array.prototype.slice.call(i.childNodes);for(let l=0;l<a.length;l++){let s=a[l];r.insertBefore(s,o)}}function xt(e,t){return function(n){if(t.inputType==="checkbox"){let o=t.getter(e),r=n.target.value;if(Array.isArray(o)){let i=o.slice(),c=i.indexOf(r);c===-1?n.target.checked&&i.push(r):n.target.checked||i.splice(c,1),t.setter(e,i)}else t.setter(e,n.target.checked)}else if(t.inputType==="radio"){let o=n.target.value;t.setter(e,o)}else if(t.isMultiple){let o=n.target.options,r=[];for(let i=0;i<o.length;i++){let c=o[i];c.selected&&r.push(c.value)}t.setter(e,r)}else t.setter(e,n.target.value)}}function De(e,t,n){if(n.inputType==="checkbox"){let o=n.getter(t);if(Array.isArray(o)){let r=e.value;o.indexOf(r)===-1?(e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0)}else o?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.inputType==="radio"){let o=n.getter(t),r=e.value;o===r?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.isMultiple){let o=e.options,r=n.getter(t);for(let i=0;i<o.length;i++){let c=o[i];r.indexOf(c.value)===-1?c.selected=!1:c.selected=!0}}else e.value=n.getter(t)}function L(e,t,n,o,r,i=!0,c=!1){let u=null,a=!1;for(let l=0;l<n.length;l++){let s=n[l],h=e,v=!1,C=!1,d=o;switch(s.type){case"tag":case"component":{if(s.directives){let p=r||{map:{},storage:{}},k=[t];o.arguments&&(k=k.concat(o.arguments));for(let T=0;T<s.directives.length;T++){let g=s.directives[T];if(!(T in p.map)){switch(p.map[T]=!0,g.content){case"if":{u={values:[],index:0,subs:[]};let A=!!t.$$t[g.children[0].code].apply(null,k);u.values.push(A);let S=i?R(e):void 0,E=I(e,c,S),H={map:{...p.map},storage:{...p.storage}},D=++o.counter,B={id:D,why:"if",arguments:o.arguments,map:o.map,instance:t,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,A&&L(e,t,[s],B,p,i,c);let O=I(e,c,S,E._anchor);if(g.children[0].subs)for(let w in g.children[0].subs){let V=g.children[0].subs[w];u.subs.push(V),P(t,V,o,[Be,[t,s,{scope:B,anchorNode:O},g,u,H,u.index]])}u.index++,v=!0;break}case"else-if":{if(u){let A=!0;for(let w=0;w<u.index;w++)A=A&&!u.values[w];A=A&&!u.values[u.index-1]&&!!t.$$t[g.children[0].code].apply(null,k),u.values.push(A);let S=i?R(e):void 0,E=I(e,c,S),H={map:{...p.map},storage:{...p.storage}},D=++o.counter,B={id:D,why:"elseif",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,A&&L(e,t,[s],B,p,i,c);let O=I(e,c,S,E._anchor);g.children[0].subs&&(u.subs=u.subs.concat(g.children[0].subs));for(let w in u.subs){let V=u.subs[w];P(t,V,o,[Be,[t,s,{scope:B,anchorNode:O},g,u,H,u.index]])}u.index++,v=!0}else console.warn("Directive else-if has missing previous if/else-if",g.content,g);break}case"else":{if(u){let A=!0;for(let w=0;w<u.index;w++)A=A&&!u.values[w];u.values.push(A);let S=i?R(e):void 0,E=I(e,c,S),H={map:{...p.map},storage:{...p.storage}},D=++o.counter,B={id:D,why:"else",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,A&&L(e,t,[s],B,p,i,c);let O=I(e,c,S,E._anchor);for(let w in u.subs){let V=u.subs[w];P(t,V,o,[Be,[t,s,{scope:B,anchorNode:O},g,u,H,u.index]])}u.index++,v=!0}else console.warn("Directive else has missing previous if/else-if",g.content,g);break}case"foreach":{let A=t.$$t[g.children[0].forData].apply(null,k),S=i?R(e):void 0,E=I(e,c,S),H=Array.isArray(A),D={};for(let O in A){let w=H?+O:O,V=A[w],Ve=++o.counter,j={id:Ve,why:"foreach",instance:t,arguments:[...o.arguments],map:{...o.map},track:[],parent:o,children:{},counter:0};o.refs&&(j.refs=o.refs),o.children[Ve]=j,j.map[g.children[0].forKey]=j.arguments.length,j.arguments.push(w),j.map[g.children[0].forItem]=j.arguments.length,j.arguments.push(V);let Ct={map:{...p.map},storage:{...p.storage}},Oe=I(e,c,S,"b"+Ee());L(e,t,[s],j,Ct,i,c);let kt=I(e,c,S,Oe._anchor);D[w]={key:w,value:V,begin:Oe,end:kt,scope:j}}let B=I(e,c,S,E._anchor);if(g.children[0].subs)for(let O in g.children[0].subs){let w=g.children[0].subs[O],V={map:{...p.map},storage:{...p.storage}};P(t,w,o,[mt,[t,s,g,B,D,V,o]])}v=!0;break}default:{console.warn("Directive not implemented",g.content,g),v=!0;break}}if(v)break}}if(v)continue}let f=s.expression?t.$$t[s.code](t):s.content??"",y=s.expression,x=s.type==="component"||s.expression&&Le(f),m,_,N=o;if(y&&(m=i?R(e):void 0,_=I(e,c,m)),y){let p=++o.counter;N={id:p,why:"dynamic",arguments:[...o.arguments],map:{...o.map},track:[],instance:t,parent:o,children:{},counter:0},o.refs&&(N.refs=o.refs),o.children[p]=N,d=N}if(x){let p={};if(s.slots){let k=++N.counter,T={id:k,why:"slot",arguments:[...o.arguments],map:{...o.map},track:[],parent:N,instance:t,children:{},counter:0,slots:o.slots};o.refs&&(T.refs=o.refs),N.children[k]=T;for(let g in s.slots)p[g]={node:s.slots[g],scope:T}}z(e,f,{attributes:s.attributes,scope:o},p,i,c)}else{if(s.content==="template"){a=c;break}if(s.content==="slot"){m||(m=i?R(e):void 0),a=c;let p="default";if(s.attributes)for(let g in s.attributes)s.attributes[g].content==="name"&&(p=s.attributes[g].children[0].content);let k=I(e,c,m);if(p in o.slots){let g=o.slots[p];g.node.unpacked||(q(g.node),g.node.unpacked=!0),L(h,g.scope.instance,g.node.children,g.scope,void 0,i,a)}else s.children&&L(h,t,s.children,o,void 0,i,a);let T=I(e,c,m,k._anchor);o.instance._name in $.iteration&&($.iteration[o.instance._name].slots[p]=T);continue}C=!0,h=i?at(e,f):c?e.parentElement.insertBefore(document.createElement(f),e):e.appendChild(document.createElement(f)),s.first&&(t._element=h)}if(y){let p=I(e,c,m,_._anchor);if(s.subs)for(let k in s.subs){let T=s.subs[k];P(t,T,o,[dt,[t,s,{scope:N,anchorNode:p}]])}}if(x)continue;break}case"text":{if(s.raw){let y=c?e.parentElement:e,x=document.createElement(y.nodeName),m=[t];o.arguments&&(m=m.concat(o.arguments));let _=(s.expression?t.$$t[s.code].apply(null,m):s.content)??"";x.innerHTML=_;let N=i?R(e):void 0,p=I(e,c,N);if(i){if(x.childNodes.length>0){let T=Array.prototype.slice.call(x.childNodes);for(let g=0;g<T.length;g++){let A=T[g],S=A.nodeType;if(S!==3){N.current++;let E=e.childNodes[N.current];if(E.nodeType!==S||S===1&&E.nodeName!==A.nodeName)console.log("Missmatch");else if(S===1&&(E.nodeName!==A.nodeName||E.outerHTML!==A.outerHTML)){let H=E.getAttribute("data-keep");(!H||H!==A.getAttribute("data-keep"))&&(E.outerHTML=A.outerHTML)}}}}}else if(x.childNodes.length>0){let T=Array.prototype.slice.call(x.childNodes);for(let g=0;g<T.length;g++){let A=T[g];c?e.parentElement.insertBefore(A,e):e.appendChild(A)}}let k=I(e,c,N,p._anchor);if(s.subs)for(let T in s.subs){let g=s.subs[T];P(t,g,o,[ht,[t,s,o,k]])}break}let f;if(i?f=lt(e,t,s,o):(f=document.createTextNode(""),X(t,s,f,o),c?e.parentElement.insertBefore(f,e):e.appendChild(f)),s.subs)for(let y in s.subs){let x=s.subs[y];P(t,x,o,[X,[t,s,f,o]])}break}case"comment":{let f=s.expression?t.$$t[s.code](t):s.content??"",y=i?ut(e,f):c?e.parentElement.insertBefore(document.createComment(f),e):e.appendChild(document.createComment(f));if(s.subs)for(let x in s.subs){let m=s.subs[x];P(t,m,o,[pt,[t,s,y]])}break}case"doctype":{if(i){let f=R(e);f.current++}break}default:{console.warn("Node type not implemented",s);break}}if(C){if(s.attributes){let f=i?h.getAttributeNames():null,y=i?{}:null;for(let x=0;x<s.attributes.length;x++){let m=s.attributes[x],_=m.expression?t.$$t[m.code](t):m.content??"";if(_[0]==="#"){let p=_.substring(1,_.length);t._refs[p]=h,o.refs&&p in o.refs&&(t[p]=h);continue}let N=_==="model";if(_[0]==="("){let p=_.substring(1,_.length-1);if(m.children){let k=t.$$t[m.dynamic?m.dynamic.code:m.children[0].code](t);h.addEventListener(p,k)}}else if(N){let p="text";h.getAttribute("type")==="checkbox"&&(p="checkbox"),h.getAttribute("type")==="radio"&&(p="radio");let k=!1;h.tagName==="SELECT"&&(p="select",k=h.multiple);let T=p==="checkbox"||p==="radio"||p==="select",g=m.children[0],A=t.$$t[g.code](t),S=T?"change":"input",E={getter:A[0],setter:A[1],inputType:p,isMultiple:k};De(h,t,E);for(let H in g.subs){let D=g.subs[H];P(t,D,o,[De,[h,t,E]])}h.addEventListener(S,xt(t,E))}else{i&&(y[_]=!0),Y(t,m,h,_,o);let p=[];if(m.children)for(let k in m.children){let T=m.children[k];T.subs&&(p=p.concat(T.subs))}if(p)for(let k in p){let T=p[k];P(t,T,o,[Y,[t,m,h,_,o]])}}}if(i)for(let x=0;x<f.length;x++)f[x]in y||h.removeAttribute(f[x])}else if(i){let f=h.getAttributeNames();for(let y=0;y<f.length;y++)h.removeAttribute(f[y])}}s.children&&L(h,t,s.children,d,void 0,i,a)}}var wt={},It=0;function He(e,t=[]){let n=M.list[e],o=null,r=!1;if(n.di==="Singleton"?r=wt:n.di==="Scoped"&&(r=$.scopedContainer),r&&e in r)return r[e];if(n.custom)o=Pe[e]();else if(!n.dependencies)o=new U[e];else{let u=[];for(let a in n.dependencies){let l=n.dependencies[a];var i=null;t&&l.argName in t?i=t[l.argName]:l.default?i=l.default:l.null?i=null:l.builtIn?i=l.name==="string"?"":0:i=He(l.name),u.push(i)}o=new U[e](...u)}n.base&&(o.__id=++It+"");let c=re();if(c.state[e])for(let u in c.state[e])o[u]=c.state[e][u];return r&&(r[e]=o),o}function yt(e,t,n,o){e[t]=n(o)}function gt(e,t,n){let o=n.scope.instance,r=t.expression?o.$$t[t.code](o):t.content??"";if(r[0]!=="("){let i=null,c=[];if(t.children)for(let u=0;u<t.children.length;u++){let a=t.children[u],l=[o];n.scope.arguments&&(l=l.concat(n.scope.arguments));let s=a.expression?o.$$t[a.code].apply(null,l):a.content??"";i=u===0?s:i+(s??""),a.subs&&(c=c.concat(a.subs))}if(r==="_props"&&i)for(let u in i)e[u]=i[u],e._props[u]=i[u];else e[r]=i,e._props[r]=i}}function z(e,t,n,o,r=!1,i=!1){if(!(t in M.list))throw new Error(`Component ${t} not found.`);if(!(t in U))throw new Error(`Component ${t} not found.`);let c=M.list[t],u=c.nodes,a=$.lastIteration,l=t in a;if(l){let d=a[t].slots;for(let f in d){let y=d[f];for(;y.previousSibling._anchor!==y._anchor;)y.previousSibling.remove()}a[t].scope.keep=!0}let s=l?a[t].instance:ct(He(t));l||c.hooks&&c.hooks.init&&s.init();let h=t+"_x";!l&&h in U&&(s.$$t=U[h]);let v=n?++n.scope.counter:0,C=l?a[t].scope:{id:v,why:t,arguments:n?[...n.scope.arguments]:[],instance:s,main:!0,map:n?{...n.scope.map}:{},track:[],children:{},counter:0,parent:n?n.scope:void 0,slots:o};if(n&&(n.scope.children[v]=C),c.refs&&(C.refs=c.refs),n&&n.attributes){let d=n.scope.instance;for(let f in n.attributes){let y=n.attributes[f],x=y.expression?d.$$t[y.code](d):y.content??"";if(x[0]==="("){let m=x.substring(1,x.length-1);if(y.children){let _=d.$$t[y.dynamic?y.dynamic.code:y.children[0].code](d);s.$_callbacks[m]=_}}else{let m=x==="model",_=null,N=[];if(m){let p=y.children[0],k=[d];n.scope.arguments&&(k=k.concat(n.scope.arguments));let T=d.$$t[p.code].apply(null,k);_=T[0](d),s.$_callbacks[x]=it(d,T[1]);for(let g in p.subs){let A=p.subs[g];P(d,A,n.scope,[yt,[s,x,T[0],d]])}}else if(y.children)for(let p=0;p<y.children.length;p++){let k=y.children[p],T=[d];n.scope.arguments&&(T=T.concat(n.scope.arguments));let g=k.expression?d.$$t[k.code].apply(null,T):k.content??"";_=p===0?g:_+(g??""),k.subs&&(N=N.concat(k.subs))}else _=!0;if(x==="_props"&&_)for(let p in _)s[p]=_[p],s._props[p]=_[p];else s[x]=_,s._props[x]=_;if(N)for(let p in N){let k=N[p];P(d,k,n.scope,[gt,[s,y,n]])}}}}if(t in $.located&&($.iteration[t]={instance:s,scope:C,slots:{}}),l){let d=a[t].slots;for(let y in d){let x=d[y];if(x.parentNode&&document.body.contains(x)){if(o&&y in o){let m=o[y];m.node.unpacked||(q(m.node),m.node.unpacked=!0),L(x,m.scope.instance,m.node.children,m.scope,void 0,!1,!0)}$.iteration[t].slots[y]=x}}let f=t;for(;f;){let y=M.list[f];f=!1;let x=y.nodes;if(x){let m=x.children;m&&m[0].type==="component"&&m[0].content in a&&($.iteration[m[0].content]=a[m[0].content],f=m[0].content)}}return C}if(e&&u){u.unpacked||(q(u),u.unpacked=!0);let d=u.children;d&&(d[0].type==="component"&&($.located[d[0].content]=!0),d[0].first=!0,L(e,s,d,C,void 0,r,i))}return C}function bt(e,t,n,o){if(console.time("renderApp"),!(e in M.list))throw new Error(`Component ${e} not found.`);let r=M.list[e],i=$.hydrate,c=$.rootScope;if(o){if(c&&r.parent!==$.layout){location.href=o.href;return}o.func(o.href,o.forward)}$.layout=r.parent,$.lastIteration=$.iteration,$.iteration={},$.scopedContainer={},$.located={},$.rootScope=z(n??document,e,void 0,{},i,!1),$.hydrate=!1;for(let u in $.lastIteration)u in $.iteration||($.lastIteration[u].scope.keep=!1);if(c&&F(c),i)for(let u in W){let a=W[u];for(let l=a.target.childNodes.length-1;l>=a.current+1;l--)a.target.childNodes[l].remove();for(let l=a.invalid.length-1;l>=0;l--)a.target.childNodes[a.invalid[l]].remove()}console.timeEnd("renderApp"),console.log($)}var Mt=document.createElement("a"),K={link:Mt,scrollTo:null};var Et=function(e){return K.link.href=e,K.link.pathname},Bt=function(e,t=!0){t&&window.history.pushState({href:e},"",e)};function Q(e,t=!0){let n=Et(e),o=M.router.resolve(n);if(o==null)throw"Can't resolve route for uri: "+n;bt(o.item.action,o.params,void 0,{func:Bt,href:e,forward:t})}function vt(){document.addEventListener("click",function(e){if(e.defaultPrevented)return;e.target||console.warn('Can not aquire event target at "watchLinks".');let n=e.target;for(;n.parentElement&&n.tagName!=="A";)n=n.parentElement;n.tagName==="A"&&n.href&&n.href.indexOf(location.origin)===0&&(K.scrollTo=null,(!K.link.hash||K.link.pathname!==location.pathname)&&(e.preventDefault(),K.link.hash&&(K.scrollTo=K.link.hash),Q(n.href,!0)))},!1),window.addEventListener("popstate",function(e){e.state?Q(e.state.href,!1):Q(location.href,!1)})}var Lt=()=>({version:"2.0.1"});globalThis.Viewi=Lt;console.log("Viewi entry");(async()=>{let e=await(await fetch("/assets/components.json")).json();M.list=e,M.router.setRoutes(e._routes);let t=e._meta.boolean.split(",");for(let n=0;n<t.length;n++)M.booleanAttributes[t[n]]=!0;qe(),vt(),Q(location.href)})();})();
