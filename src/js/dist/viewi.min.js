(()=>{var U={};var P={list:{},booleanAttributes:{}};var W=class{id=null;name=null};var Y=class{count=0;increment(){this.count++}decrement(){this.count--}};var Z=class{items=[];addNewItem(n){this.items.push(n)}};var C=class{__id="";_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$$p=[];$;_name="BaseComponent";emitEvent(n,t){n in this.$_callbacks&&this.$_callbacks[n](t)}};var q=class extends C{_name="MenuBar"};function K(e){var n=e+"";return n.length}var ee=class extends C{_name="Counter";count=0;message="My message";increment(){this.count++,this.message+="!"}decrement(){this.count--}},_e=[function(e){return function(n){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(K(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" "+(K(e.message)??"")+`
`},function(e){return function(n){e.increment()}},function(e){return function(n){e.increment(n)}},function(e){return function(n){e.increment(n)}},function(e){return e.message}];var ne=class extends C{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP"},Ne=[function(e){return e.title},function(e){return e.title}];var te=class extends C{_name="Layout";title="Viewi"},Te=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var oe=class extends C{_name="NotFoundPage"};var re=class extends C{_name="CounterPage"};var ie=class extends C{_name="TodoAppPage"};var ce=class extends C{_name="StatefulCounter";counter=null;count=null;constructor(n,t){super(),this.counter=n,this.count=t===void 0?0:t}},Ae=[function(e){return function(n){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(n){e.counter.increment()}}];function X(e,n){let t,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;n==="COUNT_RECURSIVE"&&(n=1),n!==1&&(n=0);for(t in e)e.hasOwnProperty(t)&&(o++,n===1&&e[t]&&(e[t].constructor===Array||e[t].constructor===Object)&&(o+=X(e[t],1)));return o}var ue=class extends C{_name="StatefulTodoApp";text="";todo=null;constructor(n){super(),this.todo=n}handleSubmit(n){n.preventDefault(),K(this.text)!=0&&(this.todo.addNewItem(this.text),this.text="")}},$e=[function(e){return function(n){e.handleSubmit(n)}},function(e){return[function(n){return n.text},function(n,t){n.text=t}]},function(e){return`
        Add #`+(X(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var se=class extends C{_name="ItemComponent"};var ae=class extends C{_name="SomeComponent"};var le=class extends C{_name="TestButton";id=null;title=null;class=null;disabled=!1;loading=!1;onClick(n){this.emitEvent("click",n)}},Ie=[function(e){return e.id},function(e){return e.disabled},function(e){return e.title},function(e){return e.class},function(e){return function(n){e.onClick(n)}},function(e){return" "+(e.title??"")+`
    `},function(e){return e.loading}];function ve(e){var n=typeof window<"u"?window:global;n.$locutus=n.$locutus||{};var t=n.$locutus;t.php=t.php||{};var o=n.JSON,r;try{if(typeof o=="object"&&typeof o.stringify=="function"){if(r=o.stringify(e),r===void 0)throw new SyntaxError("json_encode");return r}var c=e,u=function(a){var x=["\0-","\x7F-\x9F","\xAD","\u0600-\u0604","\u070F","\u17B4","\u17B5","\u200C-\u200F","\u2028-\u202F","\u2060-\u206F","\uFEFF","\uFFF0-\uFFFF"].join(""),i=new RegExp('[\\"'+x+"]","g"),d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return i.lastIndex=0,i.test(a)?'"'+a.replace(i,function(p){var _=d[p];return typeof _=="string"?_:"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},s=function(a,x){var i="",d="    ",p=0,_="",b="",l=0,T=i,h=[],f=x[a];switch(f&&typeof f=="object"&&typeof f.toJSON=="function"&&(f=f.toJSON(a)),typeof f){case"string":return u(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(i+=d,h=[],Object.prototype.toString.apply(f)==="[object Array]"){for(l=f.length,p=0;p<l;p+=1)h[p]=s(p,f)||"null";return b=h.length===0?"[]":i?`[
`+i+h.join(`,
`+i)+`
`+T+"]":"["+h.join(",")+"]",b}for(_ in f)Object.hasOwnProperty.call(f,_)&&(b=s(_,f),b&&h.push(u(_)+(i?": ":":")+b));return b=h.length===0?"{}":i?`{
`+i+h.join(`,
`+i)+`
`+T+"}":"{"+h.join(",")+"}",b;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return s("",{"":c})}catch(a){if(!(a instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return t.php.last_error_json=4,null}}var me=class extends C{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;message="Some message";checked=!1;checked2=!0;checkedNames=[];picked="One";selected="";selectedList=["A","C"];user=null;NameInput=null;testModel="some test";counterReducer=null;constructor(n){super(),this.counterReducer=n,this.user=new W,this.user.id=1,this.user.name="Miki the cat",this.counterReducer.increment()}getNames(){return ve(this.checkedNames)}getName(n){var t=60;return n??"DefaultName"}addTodo(){this.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(n){n.preventDefault()}toggleIf(){this.ifValue=!this.ifValue,this.arr=this.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){this.ifElseValue=!this.ifElseValue}},Se=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return function(n){expression(n)}},function(e){return e.event},function(e){return function(n){e.onEvent(n)}},function(e){return[function(n){return n.testModel},function(n,t){n.testModel=t}]},function(e){return e.testModel},function(e){return[function(n){return n.testModel},function(n,t){n.testModel=t}]},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(n){e.counterReducer.increment(n)}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return e.__id},function(e){return"First Name ("+(e.__id??"")+")"},function(e){return e.__id},function(e){return function(n){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return[function(n){return n.user.name},function(n,t){n.user.name=t}]},function(e){return e.user.name},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return[function(n){return n.name},function(n,t){n.name=t}]},function(e){return[function(n){return n.name},function(n,t){n.name=t}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(n){return n.name2},function(n,t){n.name2=t}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return[function(n){return n.message},function(n,t){n.message=t}]},function(e){return e.message},function(e){return[function(n){return n.checked},function(n,t){n.checked=t}]},function(e){return e.checked},function(e){return[function(n){return n.checked2},function(n,t){n.checked2=t}]},function(e){return e.checked2},function(e){return[function(n){return n.checkedNames},function(n,t){n.checkedNames=t}]},function(e){return[function(n){return n.checkedNames},function(n,t){n.checkedNames=t}]},function(e){return[function(n){return n.checkedNames},function(n,t){n.checkedNames=t}]},function(e){return"Checked names: "+(e.getNames()??"")},function(e){return[function(n){return n.picked},function(n,t){n.picked=t}]},function(e){return[function(n){return n.picked},function(n,t){n.picked=t}]},function(e){return"Picked: "+(e.picked??"")},function(e){return[function(n){return n.selected},function(n,t){n.selected=t}]},function(e){return"Selected: "+(e.selected??"")},function(e){return[function(n){return n.selectedList},function(n,t){n.selectedList=t}]},function(e){return[function(n){return n.selectedList},function(n,t){n.selectedList=t}]},function(e){return"Selected: "+(ve(e.selectedList)??"")},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(n){e.isDisabled=!e.isDisabled}},function(e){return function(n){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(n){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(n){e.name="Viewi Junior"}},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,n,t){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,n,t){return t},function(e,n,t,o,r){return n},function(e,n,t,o,r){return o},function(e,n,t,o,r){return r},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return function(n){e.addTodo(n)}},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e){return e.arr},function(e,n,t){return e.ifElseValue},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return e.arr},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+". "},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.arrWithKeys},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+": "},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,r){return n},function(e,n,t,o,r){return o},function(e,n,t,o,r){return r},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e){return e.arrNested},function(e,n,t){return n==="b"},function(e,n,t){return t},function(e,n,t,o,r){return n},function(e,n,t,o,r){return o},function(e,n,t,o,r){return r},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e){return function(n){e.toggleIf(n)}},function(e){return function(n){e.toggleElseIf(n)}},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,n,t){return t}];var fe=class extends C{_name="TestInput";id=null;model=null;onInput(n){this.emitEvent("model",n.target.value)}},Be=[function(e){return function(n){e.onInput(n)}},function(e){return[function(n){return n.model},function(n,t){n.model=t}]}];var de=class extends C{_name="TodoApp";text="";items=[];handleSubmit(n){n.preventDefault(),K(this.text)!=0&&(this.items.push(this.text),this.text="")}},Me=[function(e){return function(n){e.handleSubmit(n)}},function(e){return[function(n){return n.text},function(n,t){n.text=t}]},function(e){return`
        Add #`+(X(e.items)+1)+`
    `},function(e){return e.items}];var pe=class extends C{_name="TodoList";items=null},we=[function(e){return e.items},function(e,n,t){return t}];var F={UserModel:W,CounterReducer:Y,TodoReducer:Z,MenuBar:q,Counter_x:_e,Counter:ee,HomePage_x:Ne,HomePage:ne,Layout_x:Te,Layout:te,NotFoundPage:oe,CounterPage:re,TodoAppPage:ie,StatefulCounter_x:Ae,StatefulCounter:ce,StatefulTodoApp_x:$e,StatefulTodoApp:ue,ItemComponent:se,SomeComponent:ae,TestButton_x:Ie,TestButton:le,TestComponent_x:Se,TestComponent:me,TestInput_x:Be,TestInput:fe,TodoApp_x:Me,TodoApp:de,TodoList_x:we,TodoList:pe};function Ee(e,n){return function(t){n(e,t)}}var De={_props:!0,$_callbacks:!0,_refs:!0,_slots:!0,_element:!0,$$t:!0,$$r:!0,$:!0,_name:!0,emitEvent:!0};var Qe=0;function Xe(e,n,t){let o=e.$??e;return o.$||(Object.defineProperty(o,"$",{enumerable:!1,writable:!0,value:o}),Object.defineProperty(o,"$$r",{enumerable:!1,writable:!0,value:{}})),new Proxy(o,{set(c,u,s){let a=c[u]!==s,x=Reflect.set(c,u,s);if(a)for(let i in c.$$r){let d=c.$$r[i][0],p=c.$$r[i][1],_=d+"."+u;if(_ in p.$$r)for(let b in p.$$r[_]){let l=p.$$r[_][b];l[0].apply(null,l[1])}}return x}})}function Le(e){let n=Object.keys(e);for(let o=0;o<n.length;o++){let r=n[o],c=e[r];if(!(r in De)&&c!==null&&typeof c=="object"&&!Array.isArray(c)){let u=Xe(c,e,r);e[r]=u;let s=++Qe+"";u.$$r[s]=[r,e],e.$$p.push([s,u])}}let t=new Proxy(e,{set(o,r,c){let u=o[r]!==c,s=Reflect.set(o,r,c);if(u&&r in o.$$r)for(let a in o.$$r[r]){let x=o.$$r[r][a];x[0].apply(null,x[1])}return s}});return e.$=e,t}var Ye=0;function L(e){return e.__aid||(e.__aid=++Ye,U[e.__aid]={current:-1,target:e,invalid:[],added:0}),U[e.__aid]}function Pe(e,n){let t=L(e),o=e.childNodes.length,r=t.current+3;r=r>o?o:r;let c=[];for(let s=t.current+1;s<r;s++){let a=e.childNodes[s];if(a.nodeType===8)return t.current=s,t.invalid=t.invalid.concat(c),a;c.push(s)}t.added++,t.invalid=t.invalid.concat(c),console.log("Hydrate comment not found",n);let u=document.createComment(n);return t.current=t.current+c.length+1,o>t.current?e.insertBefore(u,e.childNodes[t.current]):e.appendChild(u)}function Ve(e,n){let t=L(e),o=e.childNodes.length,r=t.current+3;r=r>o?o:r;let c=[];for(let s=t.current+1;s<r;s++){let a=e.childNodes[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===n)return t.current=s,t.invalid=t.invalid.concat(c),a;c.push(s)}t.added++,t.invalid=t.invalid.concat(c),console.warn("Hydrate not found",n);let u=document.createElement(n);return t.current=t.current+c.length+1,o>t.current?e.insertBefore(u,e.childNodes[t.current]):e.appendChild(u)}function G(e,n,t,o){let r=[e];o.arguments&&(r=r.concat(o.arguments));let c=(n.expression?e.$$t[n.code].apply(null,r):n.content)??"";t.nodeValue!==c&&(t.nodeValue=c)}function He(e,n,t,o){let r=L(e),c=e.childNodes.length,u=r.current+3;u=u>c?c:u;let s=[],a=r.current>-1?r.current:r.current+1;for(let i=a;i<u;i++){let d=e.childNodes[i];if(d.nodeType===3){if(i===r.current)break;return r.current=i,r.invalid=r.invalid.concat(s),G(n,t,d,o),d}i!==r.current&&s.push(i)}r.added++,r.invalid=r.invalid.concat(s);let x=document.createTextNode("");return G(n,t,x,o),r.current=r.current+s.length+1,c>r.current?e.insertBefore(x,e.childNodes[r.current]):e.appendChild(x)}function z(e,n,t,o,r){let c=null;if(n.children){c="";for(let u=0;u<n.children.length;u++){let s=n.children[u],a=[e];r.arguments&&(a=a.concat(r.arguments));let x=s.expression?e.$$t[s.code].apply(null,a):s.content??"";c=u===0?x:c+(x??"")}}o.toLowerCase()in P.booleanAttributes?c===!0||c===null?o!==t.getAttribute(o)&&t.setAttribute(o,o):t.removeAttribute(o):c!==null?c!==t.getAttribute(o)&&t.setAttribute(o,c):t.removeAttribute(o)}function j(e){for(let n in e.track){let t=e.track[n];delete e.instance.$$r[t.path][t.id]}if(e.track=[],e.components=[],e.children){for(let n in e.children)j(e.children[n]);e.children={}}if(e.main)for(let n=0;n<e.instance.$$p.length;n++){let t=e.instance.$$p[n];delete t[1].$$r[t[0]]}e.parent&&(delete e.parent.children[e.id],delete e.parent)}var Re=0;function he(){return++Re}function S(e,n=!1,t,o){let r=document.createTextNode("");return r._anchor=o??"#"+ ++Re,t&&t.current++,n||t&&e.childNodes.length>t.current?(t?e:e.parentElement).insertBefore(r,t?e.childNodes[t.current]:e):e.appendChild(r),r}function Oe(e,n,t,o,r,c,u){let s=[e];u.arguments&&(s=s.concat(u.arguments));let a=e.$$t[t.children[0].forData].apply(null,s),x=Array.isArray(a),i=o,d=!1,p={},_={};for(let b in a){let l=x?+b:b,T=a[l],h=++u.counter,f={id:h,instance:e,arguments:[...u.arguments],components:[],map:{...u.map},track:[],parent:u,children:{},counter:0};u.refs&&(f.refs=u.refs),u.children[h]=f;let g=!1;for(let k in r)if(r[k]===T){g=!0,d=!1,i=o;break}else!d&&!(l in p)&&(i=r[k].begin,d=!0);if(p[l]=!0,!g){f.map[t.children[0].forKey]=f.arguments.length,f.arguments.push(l),f.map[t.children[0].forItem]=f.arguments.length,f.arguments.push(T);let k={map:{...c.map},storage:{...c.storage}},m=S(i,!0,void 0,"b"+he());w(i,e,[n],f,k,!1,!0);let y=S(i,!0,void 0,m._anchor);l in r&&(_[l]=r[l]),r[l]={key:l,value:T,begin:m,end:y,scope:f}}}for(let b in r)if(!(b in p)){let l=r[b].end;for(;l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove();r[b].begin.remove(),l.remove(),j(r[b].scope),delete r[b]}for(let b in _){let l=_[b].end;for(;l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove();_[b].begin.remove(),j(_[b].scope),l.remove()}}function be(e,n,t,o,r,c,u){let s=!0;for(let i=0;i<u;i++)s=s&&!r.values[i];o.children&&(s=s&&!!e.$$t[o.children[0].code](e));let a=t.anchorNode,x={map:{...c.map},storage:{...c.storage}};if(r.values[u]!==s){let i=t.scope.parent;if(r.values[u]=s,s){let d=++i.counter,p={id:d,instance:e,arguments:[...i.arguments],components:[],map:{...i.map},track:[],parent:i,children:{},counter:0};i.refs&&(p.refs=i.refs),t.scope=p,i.children[d]=p,w(a,e,[n],p,x,!1,!0)}else for(j(t.scope),t.scope={id:-1,instance:e,arguments:[],components:[],map:{},track:[],parent:i,children:{},counter:0};a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove()}}function je(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"";t.nodeValue!==o&&(t.nodeValue=o)}var qe=0;function M(e,n,t,o){e.$$r[n]||(e.$$r[n]={});let r=++qe;t.track.push({id:r,path:n}),e.$$r[n][r]=o}function J(e){let n="value";switch(e.t){case"t":{n="tag";break}case"a":{n="attr";break}case void 0:case"v":{n="value";break}case"c":{n="component";break}case"x":{n="text";break}case"m":{n="comment";break}case"r":{n="root";break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=n,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let t in e.attributes)J(e.attributes[t])}if(e.i){e.directives=e.i,delete e.i;for(let t in e.directives)J(e.directives[t])}if(e.h){e.children=e.h,delete e.h;for(let t in e.children)J(e.children[t])}}function xe(e){return e in P.list}function Ke(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"",r=n.type==="component"||n.expression&&xe(o),c=t.anchorNode,u=t.scope.parent;for(j(t.scope);c.previousSibling._anchor!==c._anchor;)c.previousSibling.remove();let s=++u.counter,a={id:s,arguments:[...u.arguments],components:[],map:{...u.map},track:[],instance:e,parent:u,children:{},counter:0};if(u.refs&&(a.refs=u.refs),t.scope=a,u.children[s]=a,r){let x={};if(n.slots){let d={id:++a.counter,arguments:[...u.arguments],components:[],map:{...u.map},track:[],parent:a,children:{},counter:0,slots:u.slots};for(let p in n.slots)x[p]={node:n.slots[p],scope:d}}Q(c,o,{attributes:n.attributes,scope:u,instance:e},x,!1,!0);return}else{let x=c.parentElement.insertBefore(document.createElement(o),c);if(n.attributes)for(let i in n.attributes){let d=n.attributes[i],p=d.expression?e.$$t[d.code](e):d.content??"";if(p[0]==="("){let _=p.substring(1,p.length-1);if(d.children){let b=e.$$t[d.dynamic?d.dynamic.code:d.children[0].code](e);x.addEventListener(_,b)}}else{z(e,d,x,p,a);let _=[];if(d.children)for(let b in d.children){let l=d.children[b];l.subs&&(_=_.concat(l.subs))}if(_)for(let b in _){let l=_[b];M(e,l,a,[z,[e,d,x,p,a]])}}}n.children&&w(x,e,n.children,a,void 0,!1,!1)}}function Fe(e,n,t,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let r=o.parentElement,c=document.createElement(r.nodeName),u=[e];t.arguments&&(u=u.concat(t.arguments));let s=(n.expression?e.$$t[n.code].apply(null,u):n.content)??"";c.innerHTML=s;let a=Array.prototype.slice.call(c.childNodes);for(let x=0;x<a.length;x++){let i=a[x];r.insertBefore(i,o)}}function Je(e,n){return function(t){if(n.inputType==="checkbox"){let o=n.getter(e),r=t.target.value;if(Array.isArray(o)){let c=o.slice(),u=c.indexOf(r);u===-1?t.target.checked&&c.push(r):t.target.checked||c.splice(u,1),n.setter(e,c)}else n.setter(e,t.target.checked)}else if(n.inputType==="radio"){let o=t.target.value;n.setter(e,o)}else if(n.isMultiple){let o=t.target.options,r=[];for(let c=0;c<o.length;c++){let u=o[c];u.selected&&r.push(u.value)}n.setter(e,r)}else n.setter(e,t.target.value)}}function ye(e,n,t){if(t.inputType==="checkbox"){let o=t.getter(n);if(Array.isArray(o)){let r=e.value;o.indexOf(r)===-1?(e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0)}else o?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(t.inputType==="radio"){let o=t.getter(n),r=e.value;o===r?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(t.isMultiple){let o=e.options,r=t.getter(n);for(let c=0;c<o.length;c++){let u=o[c];r.indexOf(u.value)===-1?u.selected=!1:u.selected=!0}}else e.value=t.getter(n)}function w(e,n,t,o,r,c=!0,u=!1){let s=null,a=!1;for(let x=0;x<t.length;x++){let i=t[x],d=e,p=!1,_=!1,b=o;switch(i.type){case"tag":case"component":{if(i.directives){let m=r||{map:{},storage:{}},y=[n];o.arguments&&(y=y.concat(o.arguments));for(let N=0;N<i.directives.length;N++){let v=i.directives[N];if(!(N in m.map)){switch(m.map[N]=!0,v.content){case"if":{s={values:[],index:0,subs:[]};let A=!!n.$$t[v.children[0].code].apply(null,y);s.values.push(A);let I=c?L(e):void 0,E=S(e,u,I),O={map:{...m.map},storage:{...m.storage}},D=++o.counter,B={id:D,arguments:o.arguments,components:[],map:o.map,instance:n,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,A&&w(e,n,[i],B,m,c,u);let H=S(e,u,I,E._anchor);if(v.children[0].subs)for(let $ in v.children[0].subs){let V=v.children[0].subs[$];s.subs.push(V),M(n,V,o,[be,[n,i,{scope:B,anchorNode:H},v,s,O,s.index]])}s.index++,p=!0;break}case"else-if":{if(s){let A=!0;for(let $=0;$<s.index;$++)A=A&&!s.values[$];A=A&&!s.values[s.index-1]&&!!n.$$t[v.children[0].code].apply(null,y),s.values.push(A);let I=c?L(e):void 0,E=S(e,u,I),O={map:{...m.map},storage:{...m.storage}},D=++o.counter,B={id:D,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,A&&w(e,n,[i],B,m,c,u);let H=S(e,u,I,E._anchor);v.children[0].subs&&(s.subs=s.subs.concat(v.children[0].subs));for(let $ in s.subs){let V=s.subs[$];M(n,V,o,[be,[n,i,{scope:B,anchorNode:H},v,s,O,s.index]])}s.index++,p=!0}else console.warn("Directive else-if has missing previous if/else-if",v.content,v);break}case"else":{if(s){let A=!0;for(let $=0;$<s.index;$++)A=A&&!s.values[$];s.values.push(A);let I=c?L(e):void 0,E=S(e,u,I),O={map:{...m.map},storage:{...m.storage}},D=++o.counter,B={id:D,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,A&&w(e,n,[i],B,m,c,u);let H=S(e,u,I,E._anchor);for(let $ in s.subs){let V=s.subs[$];M(n,V,o,[be,[n,i,{scope:B,anchorNode:H},v,s,O,s.index]])}s.index++,p=!0}else console.warn("Directive else has missing previous if/else-if",v.content,v);break}case"foreach":{let A=n.$$t[v.children[0].forData].apply(null,y),I=c?L(e):void 0,E=S(e,u,I),O=Array.isArray(A),D={};for(let H in A){let $=O?+H:H,V=A[$],Ce=++o.counter,R={id:Ce,instance:n,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:o,children:{},counter:0};o.refs&&(R.refs=o.refs),o.children[Ce]=R,R.map[v.children[0].forKey]=R.arguments.length,R.arguments.push($),R.map[v.children[0].forItem]=R.arguments.length,R.arguments.push(V);let Ge={map:{...m.map},storage:{...m.storage}},ke=S(e,u,I,"b"+he());w(e,n,[i],R,Ge,c,u);let ze=S(e,u,I,ke._anchor);D[$]={key:$,value:V,begin:ke,end:ze,scope:R}}let B=S(e,u,I,E._anchor);if(v.children[0].subs)for(let H in v.children[0].subs){let $=v.children[0].subs[H],V={map:{...m.map},storage:{...m.storage}};M(n,$,o,[Oe,[n,i,v,B,D,V,o]])}p=!0;break}default:{console.warn("Directive not implemented",v.content,v),p=!0;break}}if(p)break}}if(p)continue}let l=i.expression?n.$$t[i.code](n):i.content??"",T=i.subs,h=i.type==="component"||i.expression&&xe(l),f,g,k;if(T&&(f=c?L(e):void 0,g=S(e,u,f)),T||h){let m=++o.counter;k={id:m,arguments:[...o.arguments],components:[],map:{...o.map},track:[],instance:n,parent:o,children:{},counter:0},o.refs&&(k.refs=o.refs),o.children[m]=k,b=k}if(h){let m={};if(i.slots){let y=++k.counter,N={id:y,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:k,instance:n,children:{},counter:0,slots:o.slots};o.refs&&(N.refs=o.refs),k.children[y]=N;for(let v in i.slots)m[v]={node:i.slots[v],scope:N}}Q(e,l,{attributes:i.attributes,scope:o},m,c,u)}else{if(i.content==="template"){a=u;break}if(i.content==="slot"){a=u;let m="default";if(i.attributes)for(let y in i.attributes)i.attributes[y].content==="name"&&(m=i.attributes[y].children[0].content);if(m in o.slots){let y=o.slots[m];y.node.unpacked||(J(y.node),y.node.unpacked=!0),w(d,y.scope.instance,y.node.children,y.scope,void 0,c,a)}else i.children&&w(d,n,i.children,o,void 0,c,a);continue}_=!0,d=c?Ve(e,l):u?e.parentElement.insertBefore(document.createElement(l),e):e.appendChild(document.createElement(l)),i.first&&(n._element=d)}if(T){let m=S(e,u,f,g._anchor);if(i.subs)for(let y in i.subs){let N=i.subs[y];M(n,N,o,[Ke,[n,i,{scope:k,anchorNode:m}]])}}if(h)continue;break}case"text":{if(i.raw){let T=u?e.parentElement:e,h=document.createElement(T.nodeName),f=[n];o.arguments&&(f=f.concat(o.arguments));let g=(i.expression?n.$$t[i.code].apply(null,f):i.content)??"";h.innerHTML=g;let k=c?L(e):void 0,m=S(e,u,k);if(c){if(h.childNodes.length>0){let N=Array.prototype.slice.call(h.childNodes);for(let v=0;v<N.length;v++){let A=N[v],I=A.nodeType;if(I!==3){k.current++;let E=e.childNodes[k.current];(E.nodeType!==I||I===1&&E.nodeName!==A.nodeName)&&console.log("Missmatch")}}}}else if(h.childNodes.length>0){let N=Array.prototype.slice.call(h.childNodes);for(let v=0;v<N.length;v++){let A=N[v];u?e.parentElement.insertBefore(A,e):e.appendChild(A)}}let y=S(e,u,k,m._anchor);if(i.subs)for(let N in i.subs){let v=i.subs[N];M(n,v,o,[Fe,[n,i,o,y]])}break}let l;if(c?l=He(e,n,i,o):(l=document.createTextNode(""),G(n,i,l,o),u?e.parentElement.insertBefore(l,e):e.appendChild(l)),i.subs)for(let T in i.subs){let h=i.subs[T];M(n,h,o,[G,[n,i,l,o]])}break}case"comment":{let l=i.expression?n.$$t[i.code](n):i.content??"",T=c?Pe(e,l):u?e.parentElement.insertBefore(document.createComment(l),e):e.appendChild(document.createComment(l));if(i.subs)for(let h in i.subs){let f=i.subs[h];M(n,f,o,[je,[n,i,T]])}break}default:{console.warn("Node type not implemented",i);break}}if(_){if(i.attributes){let l=c?d.getAttributeNames():null,T=c?{}:null;for(let h=0;h<i.attributes.length;h++){let f=i.attributes[h],g=f.expression?n.$$t[f.code](n):f.content??"";if(g[0]==="#"){let m=g.substring(1,g.length);n._refs[m]=d,o.refs&&m in o.refs&&(n[m]=d);continue}let k=g==="model";if(g[0]==="("){let m=g.substring(1,g.length-1);if(f.children){let y=n.$$t[f.dynamic?f.dynamic.code:f.children[0].code](n);d.addEventListener(m,y)}}else if(k){let m="text";d.getAttribute("type")==="checkbox"&&(m="checkbox"),d.getAttribute("type")==="radio"&&(m="radio");let y=!1;d.tagName==="SELECT"&&(m="select",y=d.multiple);let N=m==="checkbox"||m==="radio"||m==="select",v=f.children[0],A=n.$$t[v.code](n),I=N?"change":"input",E={getter:A[0],setter:A[1],inputType:m,isMultiple:y};ye(d,n,E);for(let O in v.subs){let D=v.subs[O];M(n,D,o,[ye,[d,n,E]])}d.addEventListener(I,Je(n,E))}else{c&&(T[g]=!0),z(n,f,d,g,o);let m=[];if(f.children)for(let y in f.children){let N=f.children[y];N.subs&&(m=m.concat(N.subs))}if(m)for(let y in m){let N=m[y];M(n,N,o,[z,[n,f,d,g,o]])}}}if(c)for(let h=0;h<l.length;h++)l[h]in T||d.removeAttribute(l[h])}else if(c){let l=d.getAttributeNames();for(let T=0;T<l.length;T++)d.removeAttribute(l[T])}}i.children&&w(d,n,i.children,b,void 0,c,a)}}var en={},nn={},tn=0;function ge(e,n=[]){let t=P.list[e],o=null,r=!1;if(t.di==="Singleton"?r=nn:t.di==="Scoped"&&(r=en),r&&e in r)return r[e];if(!t.dependencies)o=new F[e];else{let u=[];for(let s in t.dependencies){let a=t.dependencies[s];var c=null;n&&a.argName in n?c=n[a.argName]:a.default?c=a.default:a.null?c=null:a.builtIn?c=a.name==="string"?"":0:c=ge(a.name),u.push(c)}o=new F[e](...u)}return t.base&&(o.__id=++tn+""),r&&(r[e]=o),o}function Ue(e,n,t,o){e[n]=t(o)}function We(e,n,t){let o=t.scope.instance,r=n.expression?o.$$t[n.code](o):n.content??"";if(r[0]!=="("){let c=null,u=[];if(n.children)for(let s=0;s<n.children.length;s++){let a=n.children[s],x=[o];t.scope.arguments&&(x=x.concat(t.scope.arguments));let i=a.expression?o.$$t[a.code].apply(null,x):a.content??"";c=s===0?i:c+(i??""),a.subs&&(u=u.concat(a.subs))}if(r==="_props"&&c)for(let s in c)e[s]=c[s],e._props[s]=c[s];else e[r]=c,e._props[r]=c}}function Q(e,n,t,o,r=!1,c=!1){if(!(n in P.list))throw new Error(`Component ${n} not found.`);if(!(n in F))throw new Error(`Component ${n} not found.`);let u=P.list[n],s=u.nodes,a=Le(ge(n)),x=n+"_x";x in F&&(a.$$t=F[x]);let i=t?++t.scope.counter:0,d={id:i,arguments:t?[...t.scope.arguments]:[],components:[],instance:a,main:!0,map:t?{...t.scope.map}:{},track:[],children:{},counter:0,parent:t?t.scope:void 0,slots:o};if(t&&(t.scope.children[i]=d),u.refs&&(d.refs=u.refs),t&&t.attributes){let p=t.scope.instance;for(let _ in t.attributes){let b=t.attributes[_],l=b.expression?p.$$t[b.code](p):b.content??"";if(l[0]==="("){let T=l.substring(1,l.length-1);if(b.children){let h=p.$$t[b.dynamic?b.dynamic.code:b.children[0].code](p);a.$_callbacks[T]=h}}else{let T=l==="model",h=null,f=[];if(T){let g=b.children[0],k=[p];t.scope.arguments&&(k=k.concat(t.scope.arguments));let m=p.$$t[g.code].apply(null,k);h=m[0](p),a.$_callbacks[l]=Ee(p,m[1]);for(let y in g.subs){let N=g.subs[y];M(p,N,t.scope,[Ue,[a,l,m[0],p]])}}else if(b.children)for(let g=0;g<b.children.length;g++){let k=b.children[g],m=[p];t.scope.arguments&&(m=m.concat(t.scope.arguments));let y=k.expression?p.$$t[k.code].apply(null,m):k.content??"";h=g===0?y:h+(y??""),k.subs&&(f=f.concat(k.subs))}else h=!0;if(l==="_props"&&h)for(let g in h)a[g]=h[g],a._props[g]=h[g];else a[l]=h,a._props[l]=h;if(f)for(let g in f){let k=f[g];M(p,k,t.scope,[We,[a,b,t]])}}}}if(e&&s){s.unpacked||(J(s),s.unpacked=!0);let p=s.children;p&&(p[0].first=!0,w(e,a,p,d,void 0,r,c))}}var on=()=>({version:"2.0.1"});globalThis.Viewi=on;console.log("Viewi entry");var rn=document.getElementById("counter");function cn(e){console.time("renderApp"),Q(rn,e,void 0,{},!0,!1);for(let n in U){let t=U[n];for(let o=t.target.childNodes.length-1;o>=t.current+1;o--)t.target.childNodes[o].remove();for(let o=t.invalid.length-1;o>=0;o--)t.target.childNodes[t.invalid[o]].remove()}console.timeEnd("renderApp")}(async()=>{let e=await(await fetch("/assets/components.json")).json();P.list=e;let n=e._meta.boolean.split(",");for(let t=0;t<n.length;t++)P.booleanAttributes[n[t]]=!0;setTimeout(()=>cn("TestComponent"),500)})();})();
