(()=>{var He=0,ve=0,q={};function E(e){return e.__aid||(e.__aid=++He,q[e.__aid]={current:-1,target:e,invalid:[],added:0}),q[e.__aid]}function X(){return++ve}function I(e,n=!1,t,o){let r=document.createTextNode("");return r._anchor=o??"#"+ ++ve,t&&t.current++,n||t&&e.childNodes.length>t.current?(t?e:e.parentElement).insertBefore(r,t?e.childNodes[t.current]:e):e.appendChild(r),r}var Ke={list:{}},J=Ke;var U=class{count=0;increment(){this.count++}decrement(){this.count--}};var Y=class{items=[];addNewItem(n){this.items.push(n)}};var d=class{_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$;_name="BaseComponent";emitEvent(n,t){this.$_callbacks&&n in this.$_callbacks&&this.$_callbacks[n](t)}};var Z=class extends d{_name="MenuBar"};function R(e){var n=e+"";return n.length}var ee=class extends d{_name="Counter";count=0;message="My message";increment(){this.count++,this.message+="!"}decrement(){this.count--}},ge=[function(e){return function(n){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(R(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" "+(R(e.message)??"")+`
`},function(e){return function(n){e.increment()}},function(e){return function(n){e.increment(n)}},function(e){return e.increment.bind(e)},function(e){return e.message}];var ne=class extends d{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP"},Ce=[function(e){return e.title},function(e){return e.title}];var te=class extends d{_name="Layout";title="Viewi"},ye=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var oe=class extends d{_name="NotFoundPage"};var re=class extends d{_name="CounterPage"};var ie=class extends d{_name="TodoAppPage"};var ce=class extends d{_name="StatefulCounter";counter=null;$message="Secret message";count=null;constructor(n){super(),this.count=n===void 0?0:n,this.counter=new U}$calculate(){this.count++}},Te=[function(e){return function(n){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(n){e.counter.increment()}}];function z(e,n){let t,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;n==="COUNT_RECURSIVE"&&(n=1),n!==1&&(n=0);for(t in e)e.hasOwnProperty(t)&&(o++,n===1&&e[t]&&(e[t].constructor===Array||e[t].constructor===Object)&&(o+=z(e[t],1)));return o}var se=class extends d{_name="StatefulTodoApp";text="";todo=null;constructor(n){super(),this.todo=n}handleSubmit(n){n.preventDefault(),R(this.text)!=0&&(this.todo.addNewItem(this.text),this.text="")}},Ne=[function(e){return function(n){e.handleSubmit(n)}},function(e){return e.text},function(e){return`
        Add #`+(z(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var ue=class extends d{_name="ItemComponent"};var ae=class extends d{_name="SomeComponent"};var me=class extends d{_name="TestButton";id=null;title=null;class=null},_e=[function(e){return e.id},function(e){return e.title},function(e){return e.class},function(e){return" "+(e.title??"")+`
`}];var le=class extends d{_name="TestComponent";name="MyName";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";getName(n){var t=60;return n??"DefaultName"}addTodo(){this.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(n){n.preventDefault()}toggleIf(){this.ifValue=!this.ifValue,this.arr=this.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){this.ifElseValue=!this.ifElseValue}},ke=[function(e){return"Tag test "+(e.name??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return expression.bind(e)},function(e){return e.event},function(e){return e.onEvent.bind(e)},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(n){e.name="Viewi Junior"}},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,n,t){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,n,t){return t},function(e,n,t,o,r){return n},function(e,n,t,o,r){return o},function(e,n,t,o,r){return r},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return e.addTodo.bind(e)},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e){return e.arr},function(e,n,t){return e.ifElseValue},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return e.arr},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+". "},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.arrWithKeys},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+": "},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,r){return n},function(e,n,t,o,r){return o},function(e,n,t,o,r){return r},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e){return e.arrNested},function(e,n,t){return n==="b"},function(e,n,t){return t},function(e,n,t,o,r){return n},function(e,n,t,o,r){return o},function(e,n,t,o,r){return r},function(e,n,t,o,r){return n+". "+(o??"")+". "+(r??"")},function(e){return e.toggleIf.bind(e)},function(e){return e.toggleElseIf.bind(e)},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,n,t){return t}];var fe=class extends d{_name="TodoApp";text="";items=[];handleSubmit(n){n.preventDefault(),R(this.text)!=0&&(this.items.push(this.text),this.text="")}},Ae=[function(e){return function(n){e.handleSubmit(n)}},function(e){return e.text},function(e){return`
        Add #`+(z(e.items)+1)+`
    `},function(e){return e.items}];var pe=class extends d{_name="TodoList";items=null},Ie=[function(e){return e.items},function(e,n,t){return t}];var Q={CounterReducer:U,TodoReducer:Y,MenuBar:Z,Counter_x:ge,Counter:ee,HomePage_x:Ce,HomePage:ne,Layout_x:ye,Layout:te,NotFoundPage:oe,CounterPage:re,TodoAppPage:ie,StatefulCounter_x:Te,StatefulCounter:ce,StatefulTodoApp_x:Ne,StatefulTodoApp:se,ItemComponent:ue,SomeComponent:ae,TestButton_x:_e,TestButton:me,TestComponent_x:ke,TestComponent:le,TodoApp_x:Ae,TodoApp:fe,TodoList_x:Ie,TodoList:pe};function Se(e){let n=new Proxy(e,{set(t,o,r){var s=t[o]!==r,u=Reflect.set(t,o,r);if(s&&o in t.$$r)for(let c in t.$$r[o]){let m=t.$$r[o][c];m[0].apply(null,m[1])}return u}});return e.$=e,n}function $e(e,n){let t=E(e),o=e.childNodes.length,r=t.current+3;r=r>o?o:r;let s=[];for(let c=t.current+1;c<r;c++){let m=e.childNodes[c];if(m.nodeType===8)return t.current=c,t.invalid=t.invalid.concat(s),m;s.push(c)}t.added++,t.invalid=t.invalid.concat(s),console.log("Hydrate comment not found",n);let u=document.createComment(n);return t.current=t.current+s.length+1,o>t.current?e.insertBefore(u,e.childNodes[t.current]):e.appendChild(u)}function Be(e,n){let t=E(e),o=e.childNodes.length,r=t.current+3;r=r>o?o:r;let s=[];for(let c=t.current+1;c<r;c++){let m=e.childNodes[c];if(m.nodeType===1&&m.nodeName.toLowerCase()===n)return t.current=c,t.invalid=t.invalid.concat(s),m;s.push(c)}t.added++,t.invalid=t.invalid.concat(s),console.warn("Hydrate not found",n);let u=document.createElement(n);return t.current=t.current+s.length+1,o>t.current?e.insertBefore(u,e.childNodes[t.current]):e.appendChild(u)}function W(e,n,t,o){let r=[e];o&&(r=r.concat(o.arguments));let s=(n.expression?e.$$t[n.code].apply(null,r):n.content)??"";t.nodeValue!==s&&(t.nodeValue=s),t.parentNode&&!document.body.contains(t)&&console.log("Element is missing from the page",t)}function De(e,n,t,o){let r=E(e),s=e.childNodes.length,u=r.current+3;u=u>s?s:u;let c=[],m=r.current>-1?r.current:r.current+1;for(let i=m;i<u;i++){let l=e.childNodes[i];if(l.nodeType===3){if(i===r.current)break;return r.current=i,r.invalid=r.invalid.concat(c),W(n,t,l,o),l}i!==r.current&&c.push(i)}r.added++,r.invalid=r.invalid.concat(c);let h=document.createTextNode("");return W(n,t,h,o),r.current=r.current+c.length+1,s>r.current?e.insertBefore(h,e.childNodes[r.current]):e.appendChild(h)}function G(e,n,t,o,r){let s=null;if(n.children){s="";for(let u=0;u<n.children.length;u++){let c=n.children[u],m=[e];r.arguments&&(m=m.concat(r.arguments));let h=c.expression?e.$$t[c.code].apply(null,m):c.content??"";s=u===0?h:s+(h??"")}}s!==null?s!==t.getAttribute(o)&&t.setAttribute(o,s):t.removeAttribute(o)}function H(e){for(let n in e.track){let t=e.track[n];delete e.instance.$$r[t.path][t.id]}if(e.track=[],e.components=[],e.children){for(let n in e.children)H(e.children[n]);e.children={}}e.parent&&(delete e.parent.children[e.id],delete e.parent)}function Ee(e,n,t,o,r,s,u){let c=[e];u.arguments&&(c=c.concat(u.arguments));let m=e.$$t[t.children[0].forData].apply(null,c),h=Array.isArray(m),i=o,l=!1,g={},y={};for(let C in m){let a=h?+C:C,T=m[a],x=++u.counter,f={id:x,instance:e,arguments:[...u.arguments],components:[],map:{...u.map},track:[],parent:u,children:{},counter:0};u.children[x]=f;let A=!1;for(let N in r)if(r[N]===T){A=!0,l=!1,i=o;break}else!l&&!(a in g)&&(i=r[N].begin,l=!0);if(g[a]=!0,!A){f.map[t.children[0].forKey]=f.arguments.length,f.arguments.push(a),f.map[t.children[0].forItem]=f.arguments.length,f.arguments.push(T);let N={map:{...s.map},storage:{...s.storage}},p=I(i,!0,void 0,"b"+X());S(i,e,[n],f,N,!1,!0);let b=I(i,!0,void 0,p._anchor);a in r&&(y[a]=r[a]),r[a]={key:a,value:T,begin:p,end:b,scope:f}}}for(let C in r)if(!(C in g)){let a=r[C].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();r[C].begin.remove(),a.remove(),H(r[C].scope),delete r[C]}for(let C in y){let a=y[C].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();y[C].begin.remove(),H(y[C].scope),a.remove()}}function de(e,n,t,o,r,s,u){let c=!0;for(let i=0;i<u;i++)c=c&&!r.values[i];o.children&&(c=c&&!!e.$$t[o.children[0].code](e));let m=t.anchorNode,h={map:{...s.map},storage:{...s.storage}};if(r.values[u]!==c){let i=t.scope.parent;if(r.values[u]=c,c){let l=++i.counter,g={id:l,instance:e,arguments:[...i.arguments],components:[],map:{...i.map},track:[],parent:i,children:{},counter:0};t.scope=g,i.children[l]=g,S(m,e,[n],g,h,!1,!0)}else for(H(t.scope),t.scope={id:-1,instance:e,arguments:[],components:[],map:{},track:[],parent:i,children:{},counter:0};m.previousSibling._anchor!==m._anchor;)m.previousSibling.remove()}}function we(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"";t.nodeValue!==o&&(t.nodeValue=o)}var Re=0;function D(e,n,t,o){e.$$r[n]||(e.$$r[n]={});let r=++Re;t.track.push({id:r,path:n}),e.$$r[n][r]=o}function F(e){let n="value";switch(e.t){case"t":{n="tag";break}case"a":{n="attr";break}case void 0:case"v":{n="value";break}case"c":{n="component";break}case"x":{n="text";break}case"m":{n="comment";break}case"r":{n="root";break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=n,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let t in e.attributes)F(e.attributes[t])}if(e.i){e.directives=e.i,delete e.i;for(let t in e.directives)F(e.directives[t])}if(e.h){e.children=e.h,delete e.h;for(let t in e.children)F(e.children[t])}}function Me(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"",r=n.type==="component"||n.expression&&he(o),s=t.anchorNode,u=t.scope.parent;for(H(t.scope);s.previousSibling._anchor!==s._anchor;)s.previousSibling.remove();let c=++u.counter,m={id:c,arguments:[...u.arguments],components:[],map:{...u.map},track:[],instance:e,parent:u,children:{},counter:0};if(t.scope=m,u.children[c]=m,r){let h={};if(n.slots){let l={id:++m.counter,arguments:[...u.arguments],components:[],map:{...u.map},track:[],parent:m,children:{},counter:0,slots:u.slots};for(let g in n.slots)h[g]={node:n.slots[g],scope:l}}j(s,o,{attributes:n.attributes,scope:u,instance:e},h,!1,!0);return}else{let h=s.parentElement.insertBefore(document.createElement(o),s);if(n.attributes)for(let i in n.attributes){let l=n.attributes[i],g=l.expression?e.$$t[l.code](e):l.content??"";if(g[0]==="("){let y=g.substring(1,g.length-1);if(l.children){let C=e.$$t[l.dynamic?l.dynamic.code:l.children[0].code](e);h.addEventListener(y,C)}}else{G(e,l,h,g,m);let y=[];if(l.children)for(let C in l.children){let a=l.children[C];a.subs&&(y=y.concat(a.subs))}if(y)for(let C in y){let a=y[C];D(e,a,m,[G,[e,l,h,g,m]])}}}n.children&&S(h,e,n.children,m,void 0,!1,!1)}}function S(e,n,t,o,r,s=!0,u=!1){let c=null,m=!1;for(let h=0;h<t.length;h++){let i=t[h],l=e,g=!1,y=!1,C=o;switch(i.type){case"tag":case"component":{if(i.directives){let p=r||{map:{},storage:{}},b=[n];o.arguments&&(b=b.concat(o.arguments));for(let V=0;V<i.directives.length;V++){let v=i.directives[V];if(!(V in p.map)){switch(p.map[V]=!0,v.content){case"if":{c={values:[],index:0,subs:[]};let k=!!n.$$t[v.children[0].code].apply(null,b);c.values.push(k);let $=s?E(e):void 0,K=I(e,u,$),O={map:{...p.map},storage:{...p.storage}},w=++o.counter,B={id:w,arguments:o.arguments,components:[],map:o.map,instance:n,track:[],parent:o,children:{},counter:0};o.children[w]=B,k&&S(e,n,[i],B,p,s,u);let P=I(e,u,$,K._anchor);if(v.children[0].subs)for(let _ in v.children[0].subs){let M=v.children[0].subs[_];c.subs.push(M),D(n,M,o,[de,[n,i,{scope:B,anchorNode:P},v,c,O,c.index]])}c.index++,g=!0;break}case"else-if":{if(c){let k=!0;for(let _=0;_<c.index;_++)k=k&&!c.values[_];k=k&&!c.values[c.index-1]&&!!n.$$t[v.children[0].code].apply(null,b),c.values.push(k);let $=s?E(e):void 0,K=I(e,u,$),O={map:{...p.map},storage:{...p.storage}},w=++o.counter,B={id:w,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.children[w]=B,k&&S(e,n,[i],B,p,s,u);let P=I(e,u,$,K._anchor);v.children[0].subs&&(c.subs=c.subs.concat(v.children[0].subs));for(let _ in c.subs){let M=c.subs[_];D(n,M,o,[de,[n,i,{scope:B,anchorNode:P},v,c,O,c.index]])}c.index++,g=!0}else console.warn("Directive else-if has missing previous if/else-if",v.content,v);break}case"else":{if(c){let k=!0;for(let _=0;_<c.index;_++)k=k&&!c.values[_];c.values.push(k);let $=s?E(e):void 0,K=I(e,u,$),O={map:{...p.map},storage:{...p.storage}},w=++o.counter,B={id:w,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.children[w]=B,k&&S(e,n,[i],B,p,s,u);let P=I(e,u,$,K._anchor);for(let _ in c.subs){let M=c.subs[_];D(n,M,o,[de,[n,i,{scope:B,anchorNode:P},v,c,O,c.index]])}c.index++,g=!0}else console.warn("Directive else has missing previous if/else-if",v.content,v);break}case"foreach":{let k=n.$$t[v.children[0].forData].apply(null,b),$=s?E(e):void 0,K=I(e,u,$),O=Array.isArray(k),w={};for(let P in k){let _=O?+P:P,M=k[_],xe=++o.counter,L={id:xe,instance:n,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:o,children:{},counter:0};o.children[xe]=L,L.map[v.children[0].forKey]=L.arguments.length,L.arguments.push(_),L.map[v.children[0].forItem]=L.arguments.length,L.arguments.push(M);let Pe={map:{...p.map},storage:{...p.storage}},be=I(e,u,$,"b"+X());S(e,n,[i],L,Pe,s,u);let Le=I(e,u,$,be._anchor);w[_]={key:_,value:M,begin:be,end:Le,scope:L}}let B=I(e,u,$,K._anchor);if(v.children[0].subs)for(let P in v.children[0].subs){let _=v.children[0].subs[P],M={map:{...p.map},storage:{...p.storage}};D(n,_,o,[Ee,[n,i,v,B,w,M,o]])}g=!0;break}default:{console.warn("Directive not implemented",v.content,v),g=!0;break}}if(g)break}}if(g)continue}let a=i.expression?n.$$t[i.code](n):i.content??"",T=i.subs,x=i.type==="component"||i.expression&&he(a),f,A,N;if(T&&(f=s?E(e):void 0,A=I(e,u,f)),T||x){let p=++o.counter;N={id:p,arguments:[...o.arguments],components:[],map:{...o.map},track:[],instance:n,parent:o,children:{},counter:0},o.children[p]=N,C=N}if(x){let p={};if(i.slots){let b=++N.counter,V={id:b,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:N,instance:n,children:{},counter:0,slots:o.slots};N.children[b]=V;for(let v in i.slots)p[v]={node:i.slots[v],scope:V}}j(e,a,{attributes:i.attributes,scope:o},p,s,u)}else{if(i.content==="template"){m=u;break}if(i.content==="slot"){m=u;let p="default";if(i.attributes)for(let b in i.attributes)i.attributes[b].content==="name"&&(p=i.attributes[b].children[0].content);if(p in o.slots){let b=o.slots[p];b.node.unpacked||(F(b.node),b.node.unpacked=!0),S(l,b.scope.instance,b.node.children,b.scope,void 0,s,m)}else i.children&&S(l,n,i.children,o,void 0,s,m);continue}y=!0,l=s?Be(e,a):u?e.parentElement.insertBefore(document.createElement(a),e):e.appendChild(document.createElement(a))}if(T){let p=I(e,u,f,A._anchor);if(i.subs)for(let b in i.subs){let V=i.subs[b];D(n,V,o,[Me,[n,i,{scope:N,anchorNode:p}]])}}if(x)continue;break}case"text":{let a;if(s?a=De(e,n,i,o):(a=document.createTextNode(""),W(n,i,a,o),u?e.parentElement.insertBefore(a,e):e.appendChild(a)),i.subs)for(let T in i.subs){let x=i.subs[T];D(n,x,o,[W,[n,i,a,o]])}break}case"comment":{let a=i.expression?n.$$t[i.code](n):i.content??"",T=s?$e(e,a):u?e.parentElement.insertBefore(document.createComment(a),e):e.appendChild(document.createComment(a));if(i.subs)for(let x in i.subs){let f=i.subs[x];D(n,f,o,[we,[n,i,T]])}break}default:{console.warn("Node type not implemented",i);break}}if(y){if(i.attributes){let a=s?l.getAttributeNames():null,T=s?{}:null;for(let x in i.attributes){let f=i.attributes[x],A=f.expression?n.$$t[f.code](n):f.content??"";if(A[0]==="("){let N=A.substring(1,A.length-1);if(f.children){let p=n.$$t[f.dynamic?f.dynamic.code:f.children[0].code](n);l.addEventListener(N,p)}}else{s&&(T[A]=!0),G(n,f,l,A,o);let N=[];if(f.children)for(let p in f.children){let b=f.children[p];b.subs&&(N=N.concat(b.subs))}if(N)for(let p in N){let b=N[p];D(n,b,o,[G,[n,f,l,A,o]])}}}if(s)for(let x=0;x<a.length;x++)a[x]in T||l.removeAttribute(a[x])}else if(s){let a=l.getAttributeNames();for(let T=0;T<a.length;T++)l.removeAttribute(a[T])}}i.children&&S(l,n,i.children,C,void 0,s,m)}}function Ve(e,n,t){let o=t.scope.instance,r=n.expression?o.$$t[n.code](o):n.content??"";if(r[0]!=="("){let s=null,u=[];if(n.children)for(let c=0;c<n.children.length;c++){let m=n.children[c],h=[o];t.scope.arguments&&(h=h.concat(t.scope.arguments));let i=m.expression?o.$$t[m.code].apply(null,h):m.content??"";s=c===0?i:s+(i??""),m.subs&&(u=u.concat(m.subs))}if(r==="_props"&&s)for(let c in s)e[c]=s[c],e._props[c]=s[c];else e[r]=s,e._props[r]=s}}function j(e,n,t,o,r=!1,s=!1){if(!(n in J.list))throw new Error(`Component ${n} not found.`);if(!(n in Q))throw new Error(`Component ${n} not found.`);let u=J.list[n].nodes,c=Se(new Q[n]),m=n+"_x";m in Q&&(c.$$t=Q[m]);let h=t?++t.scope.counter:0,i={id:h,arguments:t?[...t.scope.arguments]:[],components:[],instance:c,map:t?{...t.scope.map}:{},track:[],children:{},counter:0,parent:t?t.scope:void 0,slots:o};if(t&&(t.scope.children[h]=i),t&&t.attributes){let l=t.scope.instance;for(let g in t.attributes){let y=t.attributes[g],C=y.expression?l.$$t[y.code](l):y.content??"";if(C[0]!=="("){let a=null,T=[];if(y.children)for(let x=0;x<y.children.length;x++){let f=y.children[x],A=[l];t.scope.arguments&&(A=A.concat(t.scope.arguments));let N=f.expression?l.$$t[f.code].apply(null,A):f.content??"";a=x===0?N:a+(N??""),f.subs&&(T=T.concat(f.subs))}if(C==="_props"&&a)for(let x in a)c[x]=a[x],c._props[x]=a[x];else c[C]=a,c._props[C]=a;if(T)for(let x in T){let f=T[x];D(l,f,t.scope,[Ve,[c,y,t]])}}}}if(e&&u){u.unpacked||(F(u),u.unpacked=!0);let l=u.children;l&&S(e,c,l,i,void 0,r,s)}}function he(e){return e in J.list}var Fe=()=>({version:"2.0.1"});globalThis.Viewi=Fe;console.log("Viewi entry");var Je=document.getElementById("counter");function Ue(e){j(Je,e,void 0,{},!0,!1);for(let n in q){let t=q[n];for(let o=t.target.childNodes.length-1;o>=t.current+1;o--)t.target.childNodes[o].remove();for(let o=t.invalid.length-1;o>=0;o--)t.target.childNodes[t.invalid[o]].remove()}}(async()=>(J.list=await(await fetch("/assets/components.json")).json(),setTimeout(()=>Ue("TestComponent"),500)))();})();
