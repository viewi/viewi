(()=>{var Oe=0,ge=0,q={};function L(e){return e.__aid||(e.__aid=++Oe,q[e.__aid]={current:-1,target:e,invalid:[],added:0}),q[e.__aid]}function X(){return++ge}function B(e,n=!1,t,o){let i=document.createTextNode("");return i._anchor=o??"#"+ ++ge,t&&t.current++,n||t&&e.childNodes.length>t.current?(t?e:e.parentElement).insertBefore(i,t?e.childNodes[t.current]:e):e.appendChild(i),i}var Fe={list:{},booleanAttributes:{}},K=Fe;var J=class{count=0;increment(){this.count++}decrement(){this.count--}};var Y=class{items=[];addNewItem(n){this.items.push(n)}};var v=class{_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$;_name="BaseComponent";emitEvent(n,t){this.$_callbacks&&n in this.$_callbacks&&this.$_callbacks[n](t)}};var Z=class extends v{_name="MenuBar"};function F(e){var n=e+"";return n.length}var ee=class extends v{_name="Counter";count=0;message="My message";increment(){this.count++,this.message+="!"}decrement(){this.count--}},Ce=[function(e){return function(n){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(F(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" "+(F(e.message)??"")+`
`},function(e){return function(n){e.increment()}},function(e){return function(n){e.increment(n)}},function(e){return e.increment.bind(e)},function(e){return e.message}];var ne=class extends v{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP"},ye=[function(e){return e.title},function(e){return e.title}];var te=class extends v{_name="Layout";title="Viewi"},Te=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var oe=class extends v{_name="NotFoundPage"};var re=class extends v{_name="CounterPage"};var ie=class extends v{_name="TodoAppPage"};var ce=class extends v{_name="StatefulCounter";counter=null;$message="Secret message";count=null;constructor(n){super(),this.count=n===void 0?0:n,this.counter=new J}$calculate(){this.count++}},Ne=[function(e){return function(n){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(n){e.counter.increment()}}];function z(e,n){let t,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;n==="COUNT_RECURSIVE"&&(n=1),n!==1&&(n=0);for(t in e)e.hasOwnProperty(t)&&(o++,n===1&&e[t]&&(e[t].constructor===Array||e[t].constructor===Object)&&(o+=z(e[t],1)));return o}var se=class extends v{_name="StatefulTodoApp";text="";todo=null;constructor(n){super(),this.todo=n}handleSubmit(n){n.preventDefault(),F(this.text)!=0&&(this.todo.addNewItem(this.text),this.text="")}},Ae=[function(e){return function(n){e.handleSubmit(n)}},function(e){return[function(n){return n.text},function(n,t){n.text=t}]},function(e){return`
        Add #`+(z(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var ue=class extends v{_name="ItemComponent"};var ae=class extends v{_name="SomeComponent"};var me=class extends v{_name="TestButton";id=null;title=null;class=null},_e=[function(e){return e.id},function(e){return e.title},function(e){return e.class},function(e){return" "+(e.title??"")+`
`}];var le=class extends v{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;getName(n){var t=60;return n??"DefaultName"}addTodo(){this.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(n){n.preventDefault()}toggleIf(){this.ifValue=!this.ifValue,this.arr=this.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){this.ifElseValue=!this.ifElseValue}},ke=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return expression.bind(e)},function(e){return e.event},function(e){return e.onEvent.bind(e)},function(e){return[function(n){return n.name},function(n,t){n.name=t}]},function(e){return[function(n){return n.name},function(n,t){n.name=t}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(n){return n.name2},function(n,t){n.name2=t}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(n){e.isDisabled=!e.isDisabled}},function(e){return function(n){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(n){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(n){e.name="Viewi Junior"}},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,n,t){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,n,t){return t},function(e,n,t,o,i){return n},function(e,n,t,o,i){return o},function(e,n,t,o,i){return i},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return e.addTodo.bind(e)},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e){return e.arr},function(e,n,t){return e.ifElseValue},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return t},function(e,n,t){return e.nestedIf},function(e,n,t){return e.name},function(e){return e.arr},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+". "},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.arrWithKeys},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return n+": "},function(e,n,t){return n},function(e,n,t){return t},function(e,n,t){return t},function(e){return e.ifValue},function(e){return e.arrNested},function(e,n,t){return t},function(e,n,t,o,i){return n},function(e,n,t,o,i){return o},function(e,n,t,o,i){return i},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e){return e.arrNested},function(e,n,t){return n==="b"},function(e,n,t){return t},function(e,n,t,o,i){return n},function(e,n,t,o,i){return o},function(e,n,t,o,i){return i},function(e,n,t,o,i){return n+". "+(o??"")+". "+(i??"")},function(e){return e.toggleIf.bind(e)},function(e){return e.toggleElseIf.bind(e)},function(e){return function(n){e.nestedIf=!e.nestedIf}},function(e){return function(n){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,n,t){return t}];var fe=class extends v{_name="TodoApp";text="";items=[];handleSubmit(n){n.preventDefault(),F(this.text)!=0&&(this.items.push(this.text),this.text="")}},Ie=[function(e){return function(n){e.handleSubmit(n)}},function(e){return[function(n){return n.text},function(n,t){n.text=t}]},function(e){return`
        Add #`+(z(e.items)+1)+`
    `},function(e){return e.items}];var de=class extends v{_name="TodoList";items=null},Se=[function(e){return e.items},function(e,n,t){return t}];var Q={CounterReducer:J,TodoReducer:Y,MenuBar:Z,Counter_x:Ce,Counter:ee,HomePage_x:ye,HomePage:ne,Layout_x:Te,Layout:te,NotFoundPage:oe,CounterPage:re,TodoAppPage:ie,StatefulCounter_x:Ne,StatefulCounter:ce,StatefulTodoApp_x:Ae,StatefulTodoApp:se,ItemComponent:ue,SomeComponent:ae,TestButton_x:_e,TestButton:me,TestComponent_x:ke,TestComponent:le,TodoApp_x:Ie,TodoApp:fe,TodoList_x:Se,TodoList:de};function Be(e){let n=new Proxy(e,{set(t,o,i){var u=t[o]!==i,s=Reflect.set(t,o,i);if(u&&o in t.$$r)for(let c in t.$$r[o]){let l=t.$$r[o][c];l[0].apply(null,l[1])}return s}});return e.$=e,n}function $e(e,n){let t=L(e),o=e.childNodes.length,i=t.current+3;i=i>o?o:i;let u=[];for(let c=t.current+1;c<i;c++){let l=e.childNodes[c];if(l.nodeType===8)return t.current=c,t.invalid=t.invalid.concat(u),l;u.push(c)}t.added++,t.invalid=t.invalid.concat(u),console.log("Hydrate comment not found",n);let s=document.createComment(n);return t.current=t.current+u.length+1,o>t.current?e.insertBefore(s,e.childNodes[t.current]):e.appendChild(s)}function we(e,n){let t=L(e),o=e.childNodes.length,i=t.current+3;i=i>o?o:i;let u=[];for(let c=t.current+1;c<i;c++){let l=e.childNodes[c];if(l.nodeType===1&&l.nodeName.toLowerCase()===n)return t.current=c,t.invalid=t.invalid.concat(u),l;u.push(c)}t.added++,t.invalid=t.invalid.concat(u),console.warn("Hydrate not found",n);let s=document.createElement(n);return t.current=t.current+u.length+1,o>t.current?e.insertBefore(s,e.childNodes[t.current]):e.appendChild(s)}function U(e,n,t,o){let i=[e];o.arguments&&(i=i.concat(o.arguments));let u=(n.expression?e.$$t[n.code].apply(null,i):n.content)??"";t.nodeValue!==u&&(t.nodeValue=u)}function Ee(e,n,t,o){let i=L(e),u=e.childNodes.length,s=i.current+3;s=s>u?u:s;let c=[],l=i.current>-1?i.current:i.current+1;for(let r=l;r<s;r++){let m=e.childNodes[r];if(m.nodeType===3){if(r===i.current)break;return i.current=r,i.invalid=i.invalid.concat(c),U(n,t,m,o),m}r!==i.current&&c.push(r)}i.added++,i.invalid=i.invalid.concat(c);let x=document.createTextNode("");return U(n,t,x,o),i.current=i.current+c.length+1,u>i.current?e.insertBefore(x,e.childNodes[i.current]):e.appendChild(x)}function G(e,n,t,o,i){let u=null;if(n.children){u="";for(let s=0;s<n.children.length;s++){let c=n.children[s],l=[e];i.arguments&&(l=l.concat(i.arguments));let x=c.expression?e.$$t[c.code].apply(null,l):c.content??"";u=s===0?x:u+(x??"")}}o.toLowerCase()in K.booleanAttributes?u?o!==t.getAttribute(o)&&t.setAttribute(o,o):t.removeAttribute(o):u!==null?u!==t.getAttribute(o)&&t.setAttribute(o,u):t.removeAttribute(o)}function O(e){for(let n in e.track){let t=e.track[n];delete e.instance.$$r[t.path][t.id]}if(e.track=[],e.components=[],e.children){for(let n in e.children)O(e.children[n]);e.children={}}e.parent&&(delete e.parent.children[e.id],delete e.parent)}function De(e,n,t,o,i,u,s){let c=[e];s.arguments&&(c=c.concat(s.arguments));let l=e.$$t[t.children[0].forData].apply(null,c),x=Array.isArray(l),r=o,m=!1,g={},A={};for(let C in l){let a=x?+C:C,y=l[a],h=++s.counter,d={id:h,instance:e,arguments:[...s.arguments],components:[],map:{...s.map},track:[],parent:s,children:{},counter:0};s.children[h]=d;let S=!1;for(let _ in i)if(i[_]===y){S=!0,m=!1,r=o;break}else!m&&!(a in g)&&(r=i[_].begin,m=!0);if(g[a]=!0,!S){d.map[t.children[0].forKey]=d.arguments.length,d.arguments.push(a),d.map[t.children[0].forItem]=d.arguments.length,d.arguments.push(y);let _={map:{...u.map},storage:{...u.storage}},f=B(r,!0,void 0,"b"+X());E(r,e,[n],d,_,!1,!0);let b=B(r,!0,void 0,f._anchor);a in i&&(A[a]=i[a]),i[a]={key:a,value:y,begin:f,end:b,scope:d}}}for(let C in i)if(!(C in g)){let a=i[C].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();i[C].begin.remove(),a.remove(),O(i[C].scope),delete i[C]}for(let C in A){let a=A[C].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();A[C].begin.remove(),O(A[C].scope),a.remove()}}function pe(e,n,t,o,i,u,s){let c=!0;for(let r=0;r<s;r++)c=c&&!i.values[r];o.children&&(c=c&&!!e.$$t[o.children[0].code](e));let l=t.anchorNode,x={map:{...u.map},storage:{...u.storage}};if(i.values[s]!==c){let r=t.scope.parent;if(i.values[s]=c,c){let m=++r.counter,g={id:m,instance:e,arguments:[...r.arguments],components:[],map:{...r.map},track:[],parent:r,children:{},counter:0};t.scope=g,r.children[m]=g,E(l,e,[n],g,x,!1,!0)}else for(O(t.scope),t.scope={id:-1,instance:e,arguments:[],components:[],map:{},track:[],parent:r,children:{},counter:0};l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove()}}function Me(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"";t.nodeValue!==o&&(t.nodeValue=o)}var Je=0;function D(e,n,t,o){e.$$r[n]||(e.$$r[n]={});let i=++Je;t.track.push({id:i,path:n}),e.$$r[n][i]=o}function W(e){let n="value";switch(e.t){case"t":{n="tag";break}case"a":{n="attr";break}case void 0:case"v":{n="value";break}case"c":{n="component";break}case"x":{n="text";break}case"m":{n="comment";break}case"r":{n="root";break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=n,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let t in e.attributes)W(e.attributes[t])}if(e.i){e.directives=e.i,delete e.i;for(let t in e.directives)W(e.directives[t])}if(e.h){e.children=e.h,delete e.h;for(let t in e.children)W(e.children[t])}}function Le(e,n,t){let o=n.expression?e.$$t[n.code](e):n.content??"",i=n.type==="component"||n.expression&&he(o),u=t.anchorNode,s=t.scope.parent;for(O(t.scope);u.previousSibling._anchor!==u._anchor;)u.previousSibling.remove();let c=++s.counter,l={id:c,arguments:[...s.arguments],components:[],map:{...s.map},track:[],instance:e,parent:s,children:{},counter:0};if(t.scope=l,s.children[c]=l,i){let x={};if(n.slots){let m={id:++l.counter,arguments:[...s.arguments],components:[],map:{...s.map},track:[],parent:l,children:{},counter:0,slots:s.slots};for(let g in n.slots)x[g]={node:n.slots[g],scope:m}}j(u,o,{attributes:n.attributes,scope:s,instance:e},x,!1,!0);return}else{let x=u.parentElement.insertBefore(document.createElement(o),u);if(n.attributes)for(let r in n.attributes){let m=n.attributes[r],g=m.expression?e.$$t[m.code](e):m.content??"";if(g[0]==="("){let A=g.substring(1,g.length-1);if(m.children){let C=e.$$t[m.dynamic?m.dynamic.code:m.children[0].code](e);x.addEventListener(A,C)}}else{G(e,m,x,g,l);let A=[];if(m.children)for(let C in m.children){let a=m.children[C];a.subs&&(A=A.concat(a.subs))}if(A)for(let C in A){let a=A[C];D(e,a,l,[G,[e,m,x,g,l]])}}}n.children&&E(x,e,n.children,l,void 0,!1,!1)}}function Ve(e,n,t,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let i=o.parentElement,u=document.createElement(i.nodeName),s=[e];t.arguments&&(s=s.concat(t.arguments));let c=(n.expression?e.$$t[n.code].apply(null,s):n.content)??"";u.innerHTML=c;let l=Array.prototype.slice.call(u.childNodes);for(let x=0;x<l.length;x++){let r=l[x];i.insertBefore(r,o)}}function Pe(e,n,t){return function(o){t(e,o.target.value)}}function xe(e,n,t,o){e.value=t(n)}function E(e,n,t,o,i,u=!0,s=!1){let c=null,l=!1;for(let x=0;x<t.length;x++){let r=t[x],m=e,g=!1,A=!1,C=o;switch(r.type){case"tag":case"component":{if(r.directives){let f=i||{map:{},storage:{}},b=[n];o.arguments&&(b=b.concat(o.arguments));for(let T=0;T<r.directives.length;T++){let p=r.directives[T];if(!(T in f.map)){switch(f.map[T]=!0,p.content){case"if":{c={values:[],index:0,subs:[]};let N=!!n.$$t[p.children[0].code].apply(null,b);c.values.push(N);let k=u?L(e):void 0,$=B(e,s,k),H={map:{...f.map},storage:{...f.storage}},M=++o.counter,w={id:M,arguments:o.arguments,components:[],map:o.map,instance:n,track:[],parent:o,children:{},counter:0};o.children[M]=w,N&&E(e,n,[r],w,f,u,s);let P=B(e,s,k,$._anchor);if(p.children[0].subs)for(let I in p.children[0].subs){let V=p.children[0].subs[I];c.subs.push(V),D(n,V,o,[pe,[n,r,{scope:w,anchorNode:P},p,c,H,c.index]])}c.index++,g=!0;break}case"else-if":{if(c){let N=!0;for(let I=0;I<c.index;I++)N=N&&!c.values[I];N=N&&!c.values[c.index-1]&&!!n.$$t[p.children[0].code].apply(null,b),c.values.push(N);let k=u?L(e):void 0,$=B(e,s,k),H={map:{...f.map},storage:{...f.storage}},M=++o.counter,w={id:M,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.children[M]=w,N&&E(e,n,[r],w,f,u,s);let P=B(e,s,k,$._anchor);p.children[0].subs&&(c.subs=c.subs.concat(p.children[0].subs));for(let I in c.subs){let V=c.subs[I];D(n,V,o,[pe,[n,r,{scope:w,anchorNode:P},p,c,H,c.index]])}c.index++,g=!0}else console.warn("Directive else-if has missing previous if/else-if",p.content,p);break}case"else":{if(c){let N=!0;for(let I=0;I<c.index;I++)N=N&&!c.values[I];c.values.push(N);let k=u?L(e):void 0,$=B(e,s,k),H={map:{...f.map},storage:{...f.storage}},M=++o.counter,w={id:M,instance:n,arguments:o.arguments,components:[],map:o.map,track:[],parent:o,children:{},counter:0};o.children[M]=w,N&&E(e,n,[r],w,f,u,s);let P=B(e,s,k,$._anchor);for(let I in c.subs){let V=c.subs[I];D(n,V,o,[pe,[n,r,{scope:w,anchorNode:P},p,c,H,c.index]])}c.index++,g=!0}else console.warn("Directive else has missing previous if/else-if",p.content,p);break}case"foreach":{let N=n.$$t[p.children[0].forData].apply(null,b),k=u?L(e):void 0,$=B(e,s,k),H=Array.isArray(N),M={};for(let P in N){let I=H?+P:P,V=N[I],be=++o.counter,R={id:be,instance:n,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:o,children:{},counter:0};o.children[be]=R,R.map[p.children[0].forKey]=R.arguments.length,R.arguments.push(I),R.map[p.children[0].forItem]=R.arguments.length,R.arguments.push(V);let Re={map:{...f.map},storage:{...f.storage}},ve=B(e,s,k,"b"+X());E(e,n,[r],R,Re,u,s);let Ke=B(e,s,k,ve._anchor);M[I]={key:I,value:V,begin:ve,end:Ke,scope:R}}let w=B(e,s,k,$._anchor);if(p.children[0].subs)for(let P in p.children[0].subs){let I=p.children[0].subs[P],V={map:{...f.map},storage:{...f.storage}};D(n,I,o,[De,[n,r,p,w,M,V,o]])}g=!0;break}default:{console.warn("Directive not implemented",p.content,p),g=!0;break}}if(g)break}}if(g)continue}let a=r.expression?n.$$t[r.code](n):r.content??"",y=r.subs,h=r.type==="component"||r.expression&&he(a),d,S,_;if(y&&(d=u?L(e):void 0,S=B(e,s,d)),y||h){let f=++o.counter;_={id:f,arguments:[...o.arguments],components:[],map:{...o.map},track:[],instance:n,parent:o,children:{},counter:0},o.children[f]=_,C=_}if(h){let f={};if(r.slots){let b=++_.counter,T={id:b,arguments:[...o.arguments],components:[],map:{...o.map},track:[],parent:_,instance:n,children:{},counter:0,slots:o.slots};_.children[b]=T;for(let p in r.slots)f[p]={node:r.slots[p],scope:T}}j(e,a,{attributes:r.attributes,scope:o},f,u,s)}else{if(r.content==="template"){l=s;break}if(r.content==="slot"){l=s;let f="default";if(r.attributes)for(let b in r.attributes)r.attributes[b].content==="name"&&(f=r.attributes[b].children[0].content);if(f in o.slots){let b=o.slots[f];b.node.unpacked||(W(b.node),b.node.unpacked=!0),E(m,b.scope.instance,b.node.children,b.scope,void 0,u,l)}else r.children&&E(m,n,r.children,o,void 0,u,l);continue}A=!0,m=u?we(e,a):s?e.parentElement.insertBefore(document.createElement(a),e):e.appendChild(document.createElement(a))}if(y){let f=B(e,s,d,S._anchor);if(r.subs)for(let b in r.subs){let T=r.subs[b];D(n,T,o,[Le,[n,r,{scope:_,anchorNode:f}]])}}if(h)continue;break}case"text":{if(r.raw){let y=s?e.parentElement:e,h=document.createElement(y.nodeName),d=[n];o.arguments&&(d=d.concat(o.arguments));let S=(r.expression?n.$$t[r.code].apply(null,d):r.content)??"";h.innerHTML=S;let _=u?L(e):void 0,f=B(e,s,_);if(u){if(h.childNodes.length>0){let T=Array.prototype.slice.call(h.childNodes);for(let p=0;p<T.length;p++){let N=T[p],k=N.nodeType;if(k!==3){_.current++;let $=e.childNodes[_.current];($.nodeType!==k||k===1&&$.nodeName!==N.nodeName)&&console.log("Missmatch")}}}}else if(h.childNodes.length>0){let T=Array.prototype.slice.call(h.childNodes);for(let p=0;p<T.length;p++){let N=T[p];s?e.parentElement.insertBefore(N,e):e.appendChild(N)}}let b=B(e,s,_,f._anchor);if(r.subs)for(let T in r.subs){let p=r.subs[T];D(n,p,o,[Ve,[n,r,o,b]])}break}let a;if(u?a=Ee(e,n,r,o):(a=document.createTextNode(""),U(n,r,a,o),s?e.parentElement.insertBefore(a,e):e.appendChild(a)),r.subs)for(let y in r.subs){let h=r.subs[y];D(n,h,o,[U,[n,r,a,o]])}break}case"comment":{let a=r.expression?n.$$t[r.code](n):r.content??"",y=u?$e(e,a):s?e.parentElement.insertBefore(document.createComment(a),e):e.appendChild(document.createComment(a));if(r.subs)for(let h in r.subs){let d=r.subs[h];D(n,d,o,[Me,[n,r,y]])}break}default:{console.warn("Node type not implemented",r);break}}if(A){if(r.attributes){let a=u?m.getAttributeNames():null,y=u?{}:null;for(let h=0;h<r.attributes.length;h++){let d=r.attributes[h],S=d.expression?n.$$t[d.code](n):d.content??"",_=S==="model";if(S[0]==="("){let f=S.substring(1,S.length-1);if(d.children){let b=n.$$t[d.dynamic?d.dynamic.code:d.children[0].code](n);m.addEventListener(f,b)}}else if(_){let f=m.getAttribute("type")==="checkbox",b=m.getAttribute("type")==="radio",T=m.tagName==="SELECT",p=T&&m.multiple,N=f||b,k=d.children[0],$=n.$$t[k.code](n),H=N||T?"change":"input";xe(m,n,$[0],$[1]);for(let M in k.subs){let w=k.subs[M];D(n,w,o,[xe,[m,n,$[0],$[1]]])}m.addEventListener(H,Pe(n,$[0],$[1]))}else{u&&(y[S]=!0),G(n,d,m,S,o);let f=[];if(d.children)for(let b in d.children){let T=d.children[b];T.subs&&(f=f.concat(T.subs))}if(f)for(let b in f){let T=f[b];D(n,T,o,[G,[n,d,m,S,o]])}}}if(u)for(let h=0;h<a.length;h++)a[h]in y||m.removeAttribute(a[h])}else if(u){let a=m.getAttributeNames();for(let y=0;y<a.length;y++)m.removeAttribute(a[y])}}r.children&&E(m,n,r.children,C,void 0,u,l)}}function He(e,n,t){let o=t.scope.instance,i=n.expression?o.$$t[n.code](o):n.content??"";if(i[0]!=="("){let u=null,s=[];if(n.children)for(let c=0;c<n.children.length;c++){let l=n.children[c],x=[o];t.scope.arguments&&(x=x.concat(t.scope.arguments));let r=l.expression?o.$$t[l.code].apply(null,x):l.content??"";u=c===0?r:u+(r??""),l.subs&&(s=s.concat(l.subs))}if(i==="_props"&&u)for(let c in u)e[c]=u[c],e._props[c]=u[c];else e[i]=u,e._props[i]=u}}function j(e,n,t,o,i=!1,u=!1){if(!(n in K.list))throw new Error(`Component ${n} not found.`);if(!(n in Q))throw new Error(`Component ${n} not found.`);let s=K.list[n].nodes,c=Be(new Q[n]),l=n+"_x";l in Q&&(c.$$t=Q[l]);let x=t?++t.scope.counter:0,r={id:x,arguments:t?[...t.scope.arguments]:[],components:[],instance:c,map:t?{...t.scope.map}:{},track:[],children:{},counter:0,parent:t?t.scope:void 0,slots:o};if(t&&(t.scope.children[x]=r),t&&t.attributes){let m=t.scope.instance;for(let g in t.attributes){let A=t.attributes[g],C=A.expression?m.$$t[A.code](m):A.content??"";if(C[0]!=="("){let a=null,y=[];if(A.children)for(let h=0;h<A.children.length;h++){let d=A.children[h],S=[m];t.scope.arguments&&(S=S.concat(t.scope.arguments));let _=d.expression?m.$$t[d.code].apply(null,S):d.content??"";a=h===0?_:a+(_??""),d.subs&&(y=y.concat(d.subs))}if(C==="_props"&&a)for(let h in a)c[h]=a[h],c._props[h]=a[h];else c[C]=a,c._props[C]=a;if(y)for(let h in y){let d=y[h];D(m,d,t.scope,[He,[c,A,t]])}}}}if(e&&s){s.unpacked||(W(s),s.unpacked=!0);let m=s.children;m&&E(e,c,m,r,void 0,i,u)}}function he(e){return e in K.list}var Ue=()=>({version:"2.0.1"});globalThis.Viewi=Ue;console.log("Viewi entry");var Ge=document.getElementById("counter");function je(e){j(Ge,e,void 0,{},!0,!1);for(let n in q){let t=q[n];for(let o=t.target.childNodes.length-1;o>=t.current+1;o--)t.target.childNodes[o].remove();for(let o=t.invalid.length-1;o>=0;o--)t.target.childNodes[t.invalid[o]].remove()}}(async()=>{let e=await(await fetch("/assets/components.json")).json();K.list=e;let n=e._meta.boolean.split(",");for(let t=0;t<n.length;t++)K.booleanAttributes[n[t]]=!0;setTimeout(()=>je("TestComponent"),500)})();})();
